ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"motor_drive.cpp"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "src/unit/motor_drive.cpp"
  20              		.section	.text._ZN12PwmSingleOut4initEv,"axG",%progbits,_ZN12PwmSingleOut4initEv,comdat
  21              		.align	1
  22              		.weak	_ZN12PwmSingleOut4initEv
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	_ZN12PwmSingleOut4initEv:
  28              		.fnstart
  29              	.LVL0:
  30              	.LFB245:
  31              		.file 2 "Lib/PWMSingle/PWMSingle.hpp"
   1:Lib/PWMSingle/PWMSingle.hpp **** #ifndef __PWMSINGLE__
   2:Lib/PWMSingle/PWMSingle.hpp **** #define __PWMSINGLE__
   3:Lib/PWMSingle/PWMSingle.hpp **** 
   4:Lib/PWMSingle/PWMSingle.hpp **** #include "MyMath.hpp"
   5:Lib/PWMSingle/PWMSingle.hpp **** #include "tim.h"
   6:Lib/PWMSingle/PWMSingle.hpp **** 
   7:Lib/PWMSingle/PWMSingle.hpp **** #ifdef __cplusplus
   8:Lib/PWMSingle/PWMSingle.hpp **** extern "C" {
   9:Lib/PWMSingle/PWMSingle.hpp **** 
  10:Lib/PWMSingle/PWMSingle.hpp **** class PwmSingleOut {
  11:Lib/PWMSingle/PWMSingle.hpp ****      public:
  12:Lib/PWMSingle/PWMSingle.hpp ****       PwmSingleOut(TIM_HandleTypeDef *htim, uint32_t channel)
  13:Lib/PWMSingle/PWMSingle.hpp ****           : _htim(htim), _channel(channel), _maxValue(_htim->Init.Period) {
  14:Lib/PWMSingle/PWMSingle.hpp ****       }
  15:Lib/PWMSingle/PWMSingle.hpp **** 
  16:Lib/PWMSingle/PWMSingle.hpp ****       void init() {
  32              		.loc 2 16 12 view -0
  33              		.cfi_startproc
  34              		@ args = 0, pretend = 0, frame = 0
  35              		@ frame_needed = 0, uses_anonymous_args = 0
  36              		.loc 2 16 12 is_stmt 0 view .LVU1
  37 0000 10B5     		push	{r4, lr}
  38              		.save {r4, lr}
  39              	.LCFI0:
  40              		.cfi_def_cfa_offset 8
  41              		.cfi_offset 4, -8
  42              		.cfi_offset 14, -4
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 2


  43 0002 0446     		mov	r4, r0
  17:Lib/PWMSingle/PWMSingle.hpp ****             HAL_TIM_PWM_Start(_htim, _channel);
  44              		.loc 2 17 13 is_stmt 1 view .LVU2
  45              		.loc 2 17 30 is_stmt 0 view .LVU3
  46 0004 4168     		ldr	r1, [r0, #4]
  47 0006 0068     		ldr	r0, [r0]
  48              	.LVL1:
  49              		.loc 2 17 30 view .LVU4
  50 0008 FFF7FEFF 		bl	HAL_TIM_PWM_Start
  51              	.LVL2:
  18:Lib/PWMSingle/PWMSingle.hpp ****             _maxValue = _htim->Init.Period;
  52              		.loc 2 18 13 is_stmt 1 view .LVU5
  53              		.loc 2 18 25 is_stmt 0 view .LVU6
  54 000c 2368     		ldr	r3, [r4]
  55              		.loc 2 18 37 view .LVU7
  56 000e DB68     		ldr	r3, [r3, #12]
  57              		.loc 2 18 23 view .LVU8
  58 0010 A360     		str	r3, [r4, #8]
  19:Lib/PWMSingle/PWMSingle.hpp ****       }
  59              		.loc 2 19 7 view .LVU9
  60 0012 10BD     		pop	{r4, pc}
  61              		.loc 2 19 7 view .LVU10
  62              		.cfi_endproc
  63              	.LFE245:
  64              		.fnend
  66              		.global	__aeabi_f2d
  67              		.global	__aeabi_ui2d
  68              		.global	__aeabi_dmul
  69              		.global	__aeabi_d2iz
  70              		.section	.text._ZN12PwmSingleOut5writeEf,"axG",%progbits,_ZN12PwmSingleOut5writeEf,comdat
  71              		.align	1
  72              		.weak	_ZN12PwmSingleOut5writeEf
  73              		.syntax unified
  74              		.thumb
  75              		.thumb_func
  77              	_ZN12PwmSingleOut5writeEf:
  78              		.fnstart
  79              	.LVL3:
  80              	.LFB246:
  20:Lib/PWMSingle/PWMSingle.hpp **** 
  21:Lib/PWMSingle/PWMSingle.hpp ****       void write(float duty) {
  81              		.loc 2 21 12 is_stmt 1 view -0
  82              		.cfi_startproc
  83              		@ args = 0, pretend = 0, frame = 0
  84              		@ frame_needed = 0, uses_anonymous_args = 0
  85              		.loc 2 21 12 is_stmt 0 view .LVU12
  86 0000 D0B5     		push	{r4, r6, r7, lr}
  87              	.LCFI1:
  88              		.cfi_def_cfa_offset 16
  89              		.cfi_offset 4, -16
  90              		.cfi_offset 6, -12
  91              		.cfi_offset 7, -8
  92              		.cfi_offset 14, -4
  93 0002 0446     		mov	r4, r0
  22:Lib/PWMSingle/PWMSingle.hpp ****             duty = (int)(Constrain(duty, 0.0, 1.0) * _maxValue);
  94              		.loc 2 22 13 is_stmt 1 view .LVU13
  95              		.loc 2 22 26 is_stmt 0 view .LVU14
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 3


  96 0004 B5EEC00A 		vcmpe.f32	s0, #0
  97 0008 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
  98 000c 10D4     		bmi	.L9
  99              		.loc 2 22 26 discriminator 2 view .LVU15
 100 000e F7EE007A 		vmov.f32	s15, #1.0e+0
 101 0012 B4EEE70A 		vcmpe.f32	s0, s15
 102 0016 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 103 001a 02DD     		ble	.L12
 104              		.loc 2 22 26 view .LVU16
 105 001c 0026     		movs	r6, #0
 106 001e 1D4F     		ldr	r7, .L15
 107 0020 08E0     		b	.L4
 108              	.L12:
 109              		.loc 2 22 26 discriminator 5 view .LVU17
 110 0022 10EE100A 		vmov	r0, s0
 111              	.LVL4:
 112              		.loc 2 22 26 discriminator 5 view .LVU18
 113 0026 FFF7FEFF 		bl	__aeabi_f2d
 114              	.LVL5:
 115              		.loc 2 22 26 discriminator 5 view .LVU19
 116 002a 0646     		mov	r6, r0
 117 002c 0F46     		mov	r7, r1
 118 002e 01E0     		b	.L4
 119              	.LVL6:
 120              	.L9:
 121              		.loc 2 22 26 view .LVU20
 122 0030 0026     		movs	r6, #0
 123 0032 0027     		movs	r7, #0
 124              	.LVL7:
 125              	.L4:
 126              		.loc 2 22 52 discriminator 8 view .LVU21
 127 0034 A068     		ldr	r0, [r4, #8]
 128 0036 FFF7FEFF 		bl	__aeabi_ui2d
 129              	.LVL8:
 130 003a 3246     		mov	r2, r6
 131 003c 3B46     		mov	r3, r7
 132 003e FFF7FEFF 		bl	__aeabi_dmul
 133              	.LVL9:
 134              		.loc 2 22 20 discriminator 8 view .LVU22
 135 0042 FFF7FEFF 		bl	__aeabi_d2iz
 136              	.LVL10:
 137 0046 07EE900A 		vmov	s15, r0	@ int
 138              		.loc 2 22 18 discriminator 8 view .LVU23
 139 004a F8EEE77A 		vcvt.f32.s32	s15, s15
 140              	.LVL11:
  23:Lib/PWMSingle/PWMSingle.hpp ****             __HAL_TIM_SET_COMPARE(_htim, _channel, duty);
 141              		.loc 2 23 13 is_stmt 1 discriminator 8 view .LVU24
 142 004e 6368     		ldr	r3, [r4, #4]
 143 0050 33B9     		cbnz	r3, .L5
 144              		.loc 2 23 13 is_stmt 0 discriminator 1 view .LVU25
 145 0052 2368     		ldr	r3, [r4]
 146 0054 1B68     		ldr	r3, [r3]
 147 0056 FCEEE77A 		vcvt.u32.f32	s15, s15
 148              	.LVL12:
 149              		.loc 2 23 13 discriminator 1 view .LVU26
 150 005a C3ED0D7A 		vstr.32	s15, [r3, #52]	@ int
 151              	.L3:
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 4


  24:Lib/PWMSingle/PWMSingle.hpp ****       }
 152              		.loc 2 24 7 view .LVU27
 153 005e D0BD     		pop	{r4, r6, r7, pc}
 154              	.LVL13:
 155              	.L5:
  23:Lib/PWMSingle/PWMSingle.hpp ****             __HAL_TIM_SET_COMPARE(_htim, _channel, duty);
 156              		.loc 2 23 13 discriminator 2 view .LVU28
 157 0060 042B     		cmp	r3, #4
 158 0062 08D0     		beq	.L13
  23:Lib/PWMSingle/PWMSingle.hpp ****             __HAL_TIM_SET_COMPARE(_htim, _channel, duty);
 159              		.loc 2 23 13 discriminator 4 view .LVU29
 160 0064 082B     		cmp	r3, #8
 161 0066 0DD0     		beq	.L14
  23:Lib/PWMSingle/PWMSingle.hpp ****             __HAL_TIM_SET_COMPARE(_htim, _channel, duty);
 162              		.loc 2 23 13 discriminator 6 view .LVU30
 163 0068 2368     		ldr	r3, [r4]
 164 006a 1B68     		ldr	r3, [r3]
 165 006c FCEEE77A 		vcvt.u32.f32	s15, s15
 166              	.LVL14:
  23:Lib/PWMSingle/PWMSingle.hpp ****             __HAL_TIM_SET_COMPARE(_htim, _channel, duty);
 167              		.loc 2 23 13 discriminator 6 view .LVU31
 168 0070 C3ED107A 		vstr.32	s15, [r3, #64]	@ int
 169              		.loc 2 24 7 discriminator 6 view .LVU32
 170 0074 F3E7     		b	.L3
 171              	.LVL15:
 172              	.L13:
  23:Lib/PWMSingle/PWMSingle.hpp ****             __HAL_TIM_SET_COMPARE(_htim, _channel, duty);
 173              		.loc 2 23 13 discriminator 3 view .LVU33
 174 0076 2368     		ldr	r3, [r4]
 175 0078 1B68     		ldr	r3, [r3]
 176 007a FCEEE77A 		vcvt.u32.f32	s15, s15
 177              	.LVL16:
  23:Lib/PWMSingle/PWMSingle.hpp ****             __HAL_TIM_SET_COMPARE(_htim, _channel, duty);
 178              		.loc 2 23 13 discriminator 3 view .LVU34
 179 007e C3ED0E7A 		vstr.32	s15, [r3, #56]	@ int
 180 0082 ECE7     		b	.L3
 181              	.LVL17:
 182              	.L14:
  23:Lib/PWMSingle/PWMSingle.hpp ****             __HAL_TIM_SET_COMPARE(_htim, _channel, duty);
 183              		.loc 2 23 13 discriminator 5 view .LVU35
 184 0084 2368     		ldr	r3, [r4]
 185 0086 1B68     		ldr	r3, [r3]
 186 0088 FCEEE77A 		vcvt.u32.f32	s15, s15
 187              	.LVL18:
  23:Lib/PWMSingle/PWMSingle.hpp ****             __HAL_TIM_SET_COMPARE(_htim, _channel, duty);
 188              		.loc 2 23 13 discriminator 5 view .LVU36
 189 008c C3ED0F7A 		vstr.32	s15, [r3, #60]	@ int
 190 0090 E5E7     		b	.L3
 191              	.L16:
 192 0092 00BF     		.align	2
 193              	.L15:
 194 0094 0000F03F 		.word	1072693248
 195              		.cfi_endproc
 196              	.LFE246:
 197              		.cantunwind
 198              		.fnend
 200              		.section	.text._ZN10MotorDriveC2EP12PwmSingleOutS1_S1_S1_PtS2_,"ax",%progbits
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 5


 201              		.align	1
 202              		.global	_ZN10MotorDriveC2EP12PwmSingleOutS1_S1_S1_PtS2_
 203              		.syntax unified
 204              		.thumb
 205              		.thumb_func
 207              	_ZN10MotorDriveC2EP12PwmSingleOutS1_S1_S1_PtS2_:
 208              		.fnstart
 209              	.LVL19:
 210              	.LFB252:
   1:src/unit/motor_drive.cpp **** #include "motor_drive.hpp"
   2:src/unit/motor_drive.cpp **** 
   3:src/unit/motor_drive.cpp **** // Cortex-Debug用グローバル変数
   4:src/unit/motor_drive.cpp **** double debug_rad_left;
   5:src/unit/motor_drive.cpp **** double debug_rad_right;
   6:src/unit/motor_drive.cpp **** double debug_speed_left;
   7:src/unit/motor_drive.cpp **** double debug_speed_right;
   8:src/unit/motor_drive.cpp **** double debug_power_left;
   9:src/unit/motor_drive.cpp **** double debug_power_right;
  10:src/unit/motor_drive.cpp **** 
  11:src/unit/motor_drive.cpp **** MotorDrive::MotorDrive(PwmSingleOut *motor1a, PwmSingleOut *motor1b, PwmSingleOut *motor2a, PwmSing
 211              		.loc 1 11 1 is_stmt 1 view -0
 212              		.cfi_startproc
 213              		@ args = 12, pretend = 0, frame = 0
 214              		@ frame_needed = 0, uses_anonymous_args = 0
 215              		.loc 1 11 1 is_stmt 0 view .LVU38
 216 0000 10B5     		push	{r4, lr}
 217              		.save {r4, lr}
 218              	.LCFI2:
 219              		.cfi_def_cfa_offset 8
 220              		.cfi_offset 4, -8
 221              		.cfi_offset 14, -4
 222 0002 0446     		mov	r4, r0
 223              	.LBB9:
  12:src/unit/motor_drive.cpp ****     : motor1a_(motor1a), motor1b_(motor1b), motor2a_(motor2a), motor2b_(motor2b) {
 224              		.loc 1 12 7 view .LVU39
 225 0004 8164     		str	r1, [r0, #72]
 226              		.loc 1 12 26 view .LVU40
 227 0006 C264     		str	r2, [r0, #76]
 228              		.loc 1 12 45 view .LVU41
 229 0008 0365     		str	r3, [r0, #80]
 230              		.loc 1 12 64 view .LVU42
 231 000a 029B     		ldr	r3, [sp, #8]
 232              	.LVL20:
 233              		.loc 1 12 64 view .LVU43
 234 000c 4365     		str	r3, [r0, #84]
 235              	.LVL21:
 236              	.LBB10:
 237              	.LBI10:
 238              		.file 3 "Lib/MovingAve/MovingAve.hpp"
   1:Lib/MovingAve/MovingAve.hpp **** #ifndef __MOVING_AVE__
   2:Lib/MovingAve/MovingAve.hpp **** #define __MOVING_AVE__
   3:Lib/MovingAve/MovingAve.hpp **** 
   4:Lib/MovingAve/MovingAve.hpp **** #include "main.h"
   5:Lib/MovingAve/MovingAve.hpp **** 
   6:Lib/MovingAve/MovingAve.hpp **** class MovingAve {
 239              		.loc 3 6 7 is_stmt 1 view .LVU44
 240              	.LBB11:
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 6


 241 000e 0A23     		movs	r3, #10
 242 0010 80F88133 		strb	r3, [r0, #897]
 243              	.LVL22:
 244              		.loc 3 6 7 is_stmt 0 view .LVU45
 245              	.LBE11:
 246              	.LBE10:
 247              	.LBB12:
 248              	.LBI12:
 249              		.loc 3 6 7 is_stmt 1 view .LVU46
 250              	.LBB13:
 251 0014 80F8A936 		strb	r3, [r0, #1705]
 252              	.LVL23:
 253              		.loc 3 6 7 is_stmt 0 view .LVU47
 254              	.LBE13:
 255              	.LBE12:
 256              		.loc 1 12 80 view .LVU48
 257 0018 00F5D660 		add	r0, r0, #1712
 258              	.LVL24:
 259              		.loc 1 12 80 view .LVU49
 260 001c FFF7FEFF 		bl	_ZN5TimerC1Ev
 261              	.LVL25:
  13:src/unit/motor_drive.cpp ****       this->encoder_val_left_ = encoder_val_left;
 262              		.loc 1 13 7 is_stmt 1 view .LVU50
 263              		.loc 1 13 31 is_stmt 0 view .LVU51
 264 0020 039B     		ldr	r3, [sp, #12]
 265 0022 A365     		str	r3, [r4, #88]
  14:src/unit/motor_drive.cpp ****       this->encoder_val_right_ = encoder_val_right;
 266              		.loc 1 14 7 is_stmt 1 view .LVU52
 267              		.loc 1 14 32 is_stmt 0 view .LVU53
 268 0024 049B     		ldr	r3, [sp, #16]
 269 0026 E365     		str	r3, [r4, #92]
  15:src/unit/motor_drive.cpp ****       this->kp = 5;
 270              		.loc 1 15 7 is_stmt 1 view .LVU54
 271              		.loc 1 15 16 is_stmt 0 view .LVU55
 272 0028 04F5DE61 		add	r1, r4, #1776
 273 002c 0022     		movs	r2, #0
 274 002e 094B     		ldr	r3, .L19
 275 0030 C1E90023 		strd	r2, [r1]
  16:src/unit/motor_drive.cpp ****       this->ki = 5;
 276              		.loc 1 16 7 is_stmt 1 view .LVU56
 277              		.loc 1 16 16 is_stmt 0 view .LVU57
 278 0034 04F5E061 		add	r1, r4, #1792
 279 0038 41E90223 		strd	r2, [r1, #-8]
  17:src/unit/motor_drive.cpp **** 
  18:src/unit/motor_drive.cpp ****       speedLeft.SetLength(2);
 280              		.loc 1 18 7 is_stmt 1 view .LVU58
 281              		.loc 1 18 26 is_stmt 0 view .LVU59
 282 003c 0221     		movs	r1, #2
 283 003e 04F16000 		add	r0, r4, #96
 284 0042 FFF7FEFF 		bl	_ZN9MovingAve9SetLengthEh
 285              	.LVL26:
  19:src/unit/motor_drive.cpp ****       speedRight.SetLength(2);
 286              		.loc 1 19 7 is_stmt 1 view .LVU60
 287              		.loc 1 19 27 is_stmt 0 view .LVU61
 288 0046 0221     		movs	r1, #2
 289 0048 04F56270 		add	r0, r4, #904
 290 004c FFF7FEFF 		bl	_ZN9MovingAve9SetLengthEh
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 7


 291              	.LVL27:
 292              	.LBE9:
  20:src/unit/motor_drive.cpp **** }
 293              		.loc 1 20 1 view .LVU62
 294 0050 2046     		mov	r0, r4
 295 0052 10BD     		pop	{r4, pc}
 296              	.LVL28:
 297              	.L20:
 298              		.loc 1 20 1 view .LVU63
 299              		.align	2
 300              	.L19:
 301 0054 00001440 		.word	1075052544
 302              		.cfi_endproc
 303              	.LFE252:
 304              		.fnend
 306              		.global	_ZN10MotorDriveC1EP12PwmSingleOutS1_S1_S1_PtS2_
 307              		.thumb_set _ZN10MotorDriveC1EP12PwmSingleOutS1_S1_S1_PtS2_,_ZN10MotorDriveC2EP12PwmSingleOutS1_S1_
 308              		.section	.text._ZN10MotorDrive4InitEv,"ax",%progbits
 309              		.align	1
 310              		.global	_ZN10MotorDrive4InitEv
 311              		.syntax unified
 312              		.thumb
 313              		.thumb_func
 315              	_ZN10MotorDrive4InitEv:
 316              		.fnstart
 317              	.LVL29:
 318              	.LFB254:
  21:src/unit/motor_drive.cpp **** 
  22:src/unit/motor_drive.cpp **** void MotorDrive::Init() {
 319              		.loc 1 22 25 is_stmt 1 view -0
 320              		.cfi_startproc
 321              		@ args = 0, pretend = 0, frame = 0
 322              		@ frame_needed = 0, uses_anonymous_args = 0
 323              		.loc 1 22 25 is_stmt 0 view .LVU65
 324 0000 10B5     		push	{r4, lr}
 325              		.save {r4, lr}
 326              	.LCFI3:
 327              		.cfi_def_cfa_offset 8
 328              		.cfi_offset 4, -8
 329              		.cfi_offset 14, -4
 330 0002 0446     		mov	r4, r0
  23:src/unit/motor_drive.cpp ****       motor1a_->init();
 331              		.loc 1 23 7 is_stmt 1 view .LVU66
 332              		.loc 1 23 21 is_stmt 0 view .LVU67
 333 0004 806C     		ldr	r0, [r0, #72]
 334              	.LVL30:
 335              		.loc 1 23 21 view .LVU68
 336 0006 FFF7FEFF 		bl	_ZN12PwmSingleOut4initEv
 337              	.LVL31:
  24:src/unit/motor_drive.cpp ****       motor1b_->init();
 338              		.loc 1 24 7 is_stmt 1 view .LVU69
 339              		.loc 1 24 21 is_stmt 0 view .LVU70
 340 000a E06C     		ldr	r0, [r4, #76]
 341 000c FFF7FEFF 		bl	_ZN12PwmSingleOut4initEv
 342              	.LVL32:
  25:src/unit/motor_drive.cpp ****       motor2a_->init();
 343              		.loc 1 25 7 is_stmt 1 view .LVU71
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 8


 344              		.loc 1 25 21 is_stmt 0 view .LVU72
 345 0010 206D     		ldr	r0, [r4, #80]
 346 0012 FFF7FEFF 		bl	_ZN12PwmSingleOut4initEv
 347              	.LVL33:
  26:src/unit/motor_drive.cpp ****       motor2b_->init();
 348              		.loc 1 26 7 is_stmt 1 view .LVU73
 349              		.loc 1 26 21 is_stmt 0 view .LVU74
 350 0016 606D     		ldr	r0, [r4, #84]
 351 0018 FFF7FEFF 		bl	_ZN12PwmSingleOut4initEv
 352              	.LVL34:
  27:src/unit/motor_drive.cpp **** }
 353              		.loc 1 27 1 view .LVU75
 354 001c 10BD     		pop	{r4, pc}
 355              		.loc 1 27 1 view .LVU76
 356              		.cfi_endproc
 357              	.LFE254:
 358              		.fnend
 360              		.global	__aeabi_dcmpgt
 361              		.global	__aeabi_ddiv
 362              		.global	__aeabi_d2f
 363              		.section	.text._ZN10MotorDrive3RunEdd,"ax",%progbits
 364              		.align	1
 365              		.global	_ZN10MotorDrive3RunEdd
 366              		.syntax unified
 367              		.thumb
 368              		.thumb_func
 370              	_ZN10MotorDrive3RunEdd:
 371              		.fnstart
 372              	.LVL35:
 373              	.LFB257:
  28:src/unit/motor_drive.cpp **** 
  29:src/unit/motor_drive.cpp **** void MotorDrive::EncoderCompute() {
  30:src/unit/motor_drive.cpp ****       if (*encoder_val_left_ != 0 && *encoder_val_right_ != 0) {
  31:src/unit/motor_drive.cpp ****             // 最大値を求める
  32:src/unit/motor_drive.cpp ****             if (*encoder_val_left_ > encoder.max_val_left) encoder.max_val_left = *encoder_val_left
  33:src/unit/motor_drive.cpp ****             if (*encoder_val_right_ > encoder.max_val_right) encoder.max_val_right = *encoder_val_r
  34:src/unit/motor_drive.cpp ****             // radianに変換
  35:src/unit/motor_drive.cpp ****             encoder.rad_left = *encoder_val_left_ * (2 * PI / encoder.max_val_left);
  36:src/unit/motor_drive.cpp ****             encoder.rad_right = *encoder_val_right_ * (2 * PI / encoder.max_val_right);
  37:src/unit/motor_drive.cpp ****             SpeedControl();
  38:src/unit/motor_drive.cpp ****       }
  39:src/unit/motor_drive.cpp **** }
  40:src/unit/motor_drive.cpp **** 
  41:src/unit/motor_drive.cpp **** void MotorDrive::SpeedControl() {
  42:src/unit/motor_drive.cpp ****       if (encoder.pre_rad_left != encoder.rad_left || encoder.pre_rad_right != encoder.rad_right) {
  43:src/unit/motor_drive.cpp ****             dt = periodTimer.read_us() * 0.000001f;                                                
  44:src/unit/motor_drive.cpp ****             periodTimer.reset();
  45:src/unit/motor_drive.cpp **** 
  46:src/unit/motor_drive.cpp ****             // 角度の差を求める
  47:src/unit/motor_drive.cpp ****             encoder.dif_rad_left = encoder.rad_left - encoder.pre_rad_left;
  48:src/unit/motor_drive.cpp ****             encoder.dif_rad_right = encoder.rad_right - encoder.pre_rad_right;
  49:src/unit/motor_drive.cpp ****             encoder.pre_rad_left = encoder.rad_left;
  50:src/unit/motor_drive.cpp ****             encoder.pre_rad_right = encoder.rad_right;
  51:src/unit/motor_drive.cpp **** 
  52:src/unit/motor_drive.cpp ****             // PI以上変わった時に修正
  53:src/unit/motor_drive.cpp ****             if (abs(encoder.dif_rad_left) > PI) encoder.dif_rad_left -= 2 * PI * (abs(encoder.dif_r
  54:src/unit/motor_drive.cpp ****             if (abs(encoder.dif_rad_right) > PI) encoder.dif_rad_right -= 2 * PI * (abs(encoder.dif
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 9


  55:src/unit/motor_drive.cpp **** 
  56:src/unit/motor_drive.cpp ****             // rad/sに変換
  57:src/unit/motor_drive.cpp ****             encoder.speed_left = encoder.dif_rad_left / dt * -1;
  58:src/unit/motor_drive.cpp ****             encoder.speed_right = encoder.dif_rad_right / dt;
  59:src/unit/motor_drive.cpp ****             speedLeft.Compute(&encoder.speed_left);
  60:src/unit/motor_drive.cpp ****             speedRight.Compute(&encoder.speed_right);
  61:src/unit/motor_drive.cpp **** 
  62:src/unit/motor_drive.cpp ****             // PIの計算
  63:src/unit/motor_drive.cpp ****             // 比例成分
  64:src/unit/motor_drive.cpp ****             p_left_ = encoder.speed_left - speed_left_;
  65:src/unit/motor_drive.cpp ****             p_right_ = encoder.speed_right - speed_right_;
  66:src/unit/motor_drive.cpp ****             // 積分成分
  67:src/unit/motor_drive.cpp ****             i_left_ += p_left_ * dt;
  68:src/unit/motor_drive.cpp ****             i_right_ += p_right_ * dt;
  69:src/unit/motor_drive.cpp ****             // 積分値の範囲制限
  70:src/unit/motor_drive.cpp ****             if (abs(i_left_ * ki) > 300) i_left_ = 300 / ki * (abs(i_left_) / i_left_);
  71:src/unit/motor_drive.cpp ****             if (abs(i_right_ * ki) > 300) i_right_ = 300 / ki * (abs(i_right_) / i_right_);
  72:src/unit/motor_drive.cpp ****             // speedが0に指定されたらi成分を減らしていく
  73:src/unit/motor_drive.cpp ****             if (speed_left_ == 0) i_left_ *= 0.5;
  74:src/unit/motor_drive.cpp ****             if (speed_right_ == 0) i_right_ *= 0.5;
  75:src/unit/motor_drive.cpp ****             // 合算
  76:src/unit/motor_drive.cpp ****             power_left_ = 0 - kp * p_left_ - ki * i_left_;
  77:src/unit/motor_drive.cpp ****             power_right_ = 0 - kp * p_right_ - ki * i_right_;
  78:src/unit/motor_drive.cpp **** 
  79:src/unit/motor_drive.cpp ****             // スピードが正の値であればパワーも正の値・これがなかったら
  80:src/unit/motor_drive.cpp ****             if (speed_left_ > 0 && power_left_ < 1) power_left_ = 1;
  81:src/unit/motor_drive.cpp ****             if (speed_right_ > 0 && power_right_ < 1) power_right_ = 1;
  82:src/unit/motor_drive.cpp ****             if (speed_left_ < 0 && power_left_ > -1) power_left_ = -1;
  83:src/unit/motor_drive.cpp ****             if (speed_right_ < 0 && power_right_ > -1) power_right_ = -1;
  84:src/unit/motor_drive.cpp **** 
  85:src/unit/motor_drive.cpp ****             Run(power_left_, power_right_);
  86:src/unit/motor_drive.cpp **** 
  87:src/unit/motor_drive.cpp ****             // Cortex-Debug用グローバル変数
  88:src/unit/motor_drive.cpp ****             debug_speed_left = encoder.speed_left;
  89:src/unit/motor_drive.cpp ****             debug_speed_right = encoder.speed_right;
  90:src/unit/motor_drive.cpp ****             debug_rad_left = encoder.rad_left;
  91:src/unit/motor_drive.cpp ****             debug_rad_right = encoder.rad_right;
  92:src/unit/motor_drive.cpp ****       }
  93:src/unit/motor_drive.cpp **** }
  94:src/unit/motor_drive.cpp **** 
  95:src/unit/motor_drive.cpp **** void MotorDrive::Run(double left, double right) {
 374              		.loc 1 95 49 is_stmt 1 view -0
 375              		.cfi_startproc
 376              		@ args = 0, pretend = 0, frame = 0
 377              		@ frame_needed = 0, uses_anonymous_args = 0
 378              		.loc 1 95 49 is_stmt 0 view .LVU78
 379 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 380              		.save {r4, r5, r6, r7, r8, r9, r10, lr}
 381              	.LCFI4:
 382              		.cfi_def_cfa_offset 32
 383              		.cfi_offset 4, -32
 384              		.cfi_offset 5, -28
 385              		.cfi_offset 6, -24
 386              		.cfi_offset 7, -20
 387              		.cfi_offset 8, -16
 388              		.cfi_offset 9, -12
 389              		.cfi_offset 10, -8
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 10


 390              		.cfi_offset 14, -4
 391 0004 8246     		mov	r10, r0
 392 0006 57EC106B 		vmov	r6, r7, d0
 393 000a 55EC114B 		vmov	r4, r5, d1
  96:src/unit/motor_drive.cpp ****       output_left = left;
 394              		.loc 1 96 7 is_stmt 1 view .LVU79
 395              		.loc 1 96 19 is_stmt 0 view .LVU80
 396 000e 00F5E063 		add	r3, r0, #1792
 397 0012 83ED000B 		vstr.64	d0, [r3]
  97:src/unit/motor_drive.cpp ****       output_right = right;
 398              		.loc 1 97 7 is_stmt 1 view .LVU81
 399              		.loc 1 97 20 is_stmt 0 view .LVU82
 400 0016 00F5E263 		add	r3, r0, #1808
 401 001a 03ED021B 		vstr.64	d1, [r3, #-8]
  98:src/unit/motor_drive.cpp **** 
  99:src/unit/motor_drive.cpp ****       // 範囲保証
 100:src/unit/motor_drive.cpp ****       if (abs(output_left) > MAX_POWER) output_left = MAX_POWER * (abs(output_left) / output_left);
 402              		.loc 1 100 7 is_stmt 1 view .LVU83
 403              		.loc 1 100 11 is_stmt 0 view .LVU84
 404 001e 0022     		movs	r2, #0
 405 0020 0023     		movs	r3, #0
 406 0022 3046     		mov	r0, r6
 407              	.LVL36:
 408              		.loc 1 100 11 view .LVU85
 409 0024 3946     		mov	r1, r7
 410 0026 FFF7FEFF 		bl	__aeabi_dcmpgt
 411              	.LVL37:
 412              		.loc 1 100 11 view .LVU86
 413 002a 0028     		cmp	r0, #0
 414 002c 00F09380 		beq	.L45
 415 0030 B046     		mov	r8, r6
 416 0032 B946     		mov	r9, r7
 417              	.L24:
 418              		.loc 1 100 7 discriminator 4 view .LVU87
 419 0034 0022     		movs	r2, #0
 420 0036 6A4B     		ldr	r3, .L47+16
 421 0038 4046     		mov	r0, r8
 422 003a 4946     		mov	r1, r9
 423 003c FFF7FEFF 		bl	__aeabi_dcmpgt
 424              	.LVL38:
 425 0040 68B1     		cbz	r0, .L25
 426              		.loc 1 100 41 is_stmt 1 discriminator 9 view .LVU88
 427              		.loc 1 100 85 is_stmt 0 discriminator 9 view .LVU89
 428 0042 3246     		mov	r2, r6
 429 0044 3B46     		mov	r3, r7
 430 0046 4046     		mov	r0, r8
 431 0048 4946     		mov	r1, r9
 432 004a FFF7FEFF 		bl	__aeabi_ddiv
 433              	.LVL39:
 434              		.loc 1 100 65 discriminator 9 view .LVU90
 435 004e 0022     		movs	r2, #0
 436 0050 634B     		ldr	r3, .L47+16
 437 0052 FFF7FEFF 		bl	__aeabi_dmul
 438              	.LVL40:
 439              		.loc 1 100 53 discriminator 9 view .LVU91
 440 0056 0AF5E063 		add	r3, r10, #1792
 441 005a C3E90001 		strd	r0, [r3]
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 11


 442              	.L25:
 101:src/unit/motor_drive.cpp ****       if (abs(output_right) > MAX_POWER) output_right = MAX_POWER * (abs(output_right) / output_rig
 443              		.loc 1 101 7 is_stmt 1 view .LVU92
 444              		.loc 1 101 11 is_stmt 0 view .LVU93
 445 005e 0022     		movs	r2, #0
 446 0060 0023     		movs	r3, #0
 447 0062 2046     		mov	r0, r4
 448 0064 2946     		mov	r1, r5
 449 0066 FFF7FEFF 		bl	__aeabi_dcmpgt
 450              	.LVL41:
 451 006a 0028     		cmp	r0, #0
 452 006c 77D0     		beq	.L46
 453 006e 2646     		mov	r6, r4
 454              	.LVL42:
 455              		.loc 1 101 11 view .LVU94
 456 0070 2F46     		mov	r7, r5
 457              	.L27:
 458              		.loc 1 101 7 discriminator 4 view .LVU95
 459 0072 0022     		movs	r2, #0
 460 0074 5A4B     		ldr	r3, .L47+16
 461 0076 3046     		mov	r0, r6
 462 0078 3946     		mov	r1, r7
 463 007a FFF7FEFF 		bl	__aeabi_dcmpgt
 464              	.LVL43:
 465 007e 68B1     		cbz	r0, .L28
 466              		.loc 1 101 42 is_stmt 1 discriminator 9 view .LVU96
 467              		.loc 1 101 88 is_stmt 0 discriminator 9 view .LVU97
 468 0080 2246     		mov	r2, r4
 469 0082 2B46     		mov	r3, r5
 470 0084 3046     		mov	r0, r6
 471 0086 3946     		mov	r1, r7
 472 0088 FFF7FEFF 		bl	__aeabi_ddiv
 473              	.LVL44:
 474              		.loc 1 101 67 discriminator 9 view .LVU98
 475 008c 0022     		movs	r2, #0
 476 008e 544B     		ldr	r3, .L47+16
 477 0090 FFF7FEFF 		bl	__aeabi_dmul
 478              	.LVL45:
 479              		.loc 1 101 55 discriminator 9 view .LVU99
 480 0094 0AF5E263 		add	r3, r10, #1808
 481 0098 43E90201 		strd	r0, [r3, #-8]
 482              	.L28:
 102:src/unit/motor_drive.cpp **** 
 103:src/unit/motor_drive.cpp ****       // 出力
 104:src/unit/motor_drive.cpp ****       Init();  // なぜか毎回PWMをリセットしないと動かない
 483              		.loc 1 104 7 is_stmt 1 view .LVU100
 484              		.loc 1 104 11 is_stmt 0 view .LVU101
 485 009c 5046     		mov	r0, r10
 486 009e FFF7FEFF 		bl	_ZN10MotorDrive4InitEv
 487              	.LVL46:
 105:src/unit/motor_drive.cpp ****       if (speed_left_ != 0) {
 488              		.loc 1 105 7 is_stmt 1 view .LVU102
 489              		.loc 1 105 11 is_stmt 0 view .LVU103
 490 00a2 BAF9B436 		ldrsh	r3, [r10, #1716]
 491              		.loc 1 105 7 view .LVU104
 492 00a6 0BB3     		cbz	r3, .L30
 106:src/unit/motor_drive.cpp ****             if (output_left > 0) {
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 12


 493              		.loc 1 106 13 is_stmt 1 view .LVU105
 494              		.loc 1 106 17 is_stmt 0 view .LVU106
 495 00a8 0AF5E063 		add	r3, r10, #1792
 496 00ac D3E90045 		ldrd	r4, [r3]
 497              	.LVL47:
 498              		.loc 1 106 13 view .LVU107
 499 00b0 0022     		movs	r2, #0
 500 00b2 0023     		movs	r3, #0
 501 00b4 2046     		mov	r0, r4
 502 00b6 2946     		mov	r1, r5
 503 00b8 FFF7FEFF 		bl	__aeabi_dcmpgt
 504              	.LVL48:
 505 00bc 0028     		cmp	r0, #0
 506 00be 52D0     		beq	.L42
 107:src/unit/motor_drive.cpp ****                   motor1a_->write(output_left * 0.001f);
 507              		.loc 1 107 19 is_stmt 1 view .LVU108
 508 00c0 DAF84860 		ldr	r6, [r10, #72]
 509              		.loc 1 107 47 is_stmt 0 view .LVU109
 510 00c4 42A3     		adr	r3, .L47
 511 00c6 D3E90023 		ldrd	r2, [r3]
 512 00ca 2046     		mov	r0, r4
 513 00cc 2946     		mov	r1, r5
 514 00ce FFF7FEFF 		bl	__aeabi_dmul
 515              	.LVL49:
 516              		.loc 1 107 34 view .LVU110
 517 00d2 FFF7FEFF 		bl	__aeabi_d2f
 518              	.LVL50:
 519 00d6 00EE100A 		vmov	s0, r0
 520 00da 3046     		mov	r0, r6
 521 00dc FFF7FEFF 		bl	_ZN12PwmSingleOut5writeEf
 522              	.LVL51:
 108:src/unit/motor_drive.cpp ****                   motor1b_->write(0);
 523              		.loc 1 108 19 is_stmt 1 view .LVU111
 524              		.loc 1 108 34 is_stmt 0 view .LVU112
 525 00e0 9FED400A 		vldr.32	s0, .L47+20
 526 00e4 DAF84C00 		ldr	r0, [r10, #76]
 527 00e8 FFF7FEFF 		bl	_ZN12PwmSingleOut5writeEf
 528              	.LVL52:
 529              	.L30:
 109:src/unit/motor_drive.cpp ****             } else {
 110:src/unit/motor_drive.cpp ****                   motor1a_->write(0);
 111:src/unit/motor_drive.cpp ****                   motor1b_->write(output_left * -0.001f);
 112:src/unit/motor_drive.cpp ****             }
 113:src/unit/motor_drive.cpp ****       }
 114:src/unit/motor_drive.cpp ****       if (speed_right_ != 0) {
 530              		.loc 1 114 7 is_stmt 1 view .LVU113
 531              		.loc 1 114 11 is_stmt 0 view .LVU114
 532 00ec BAF9B636 		ldrsh	r3, [r10, #1718]
 533              		.loc 1 114 7 view .LVU115
 534 00f0 0BB3     		cbz	r3, .L33
 115:src/unit/motor_drive.cpp ****             if (output_right > 0) {
 535              		.loc 1 115 13 is_stmt 1 view .LVU116
 536              		.loc 1 115 17 is_stmt 0 view .LVU117
 537 00f2 0AF5E263 		add	r3, r10, #1808
 538 00f6 53E90245 		ldrd	r4, [r3, #-8]
 539              		.loc 1 115 13 view .LVU118
 540 00fa 0022     		movs	r2, #0
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 13


 541 00fc 0023     		movs	r3, #0
 542 00fe 2046     		mov	r0, r4
 543 0100 2946     		mov	r1, r5
 544 0102 FFF7FEFF 		bl	__aeabi_dcmpgt
 545              	.LVL53:
 546 0106 0028     		cmp	r0, #0
 547 0108 46D0     		beq	.L43
 116:src/unit/motor_drive.cpp ****                   motor2a_->write(output_right * 0.001f);
 548              		.loc 1 116 19 is_stmt 1 view .LVU119
 549 010a DAF85060 		ldr	r6, [r10, #80]
 550              		.loc 1 116 48 is_stmt 0 view .LVU120
 551 010e 30A3     		adr	r3, .L47
 552 0110 D3E90023 		ldrd	r2, [r3]
 553 0114 2046     		mov	r0, r4
 554 0116 2946     		mov	r1, r5
 555 0118 FFF7FEFF 		bl	__aeabi_dmul
 556              	.LVL54:
 557              		.loc 1 116 34 view .LVU121
 558 011c FFF7FEFF 		bl	__aeabi_d2f
 559              	.LVL55:
 560 0120 00EE100A 		vmov	s0, r0
 561 0124 3046     		mov	r0, r6
 562 0126 FFF7FEFF 		bl	_ZN12PwmSingleOut5writeEf
 563              	.LVL56:
 117:src/unit/motor_drive.cpp ****                   motor2b_->write(0);
 564              		.loc 1 117 19 is_stmt 1 view .LVU122
 565              		.loc 1 117 34 is_stmt 0 view .LVU123
 566 012a 9FED2E0A 		vldr.32	s0, .L47+20
 567 012e DAF85400 		ldr	r0, [r10, #84]
 568 0132 FFF7FEFF 		bl	_ZN12PwmSingleOut5writeEf
 569              	.LVL57:
 570              	.L33:
 118:src/unit/motor_drive.cpp ****             } else {
 119:src/unit/motor_drive.cpp ****                   motor2a_->write(0);
 120:src/unit/motor_drive.cpp ****                   motor2b_->write(output_right * -0.001f);
 121:src/unit/motor_drive.cpp ****             }
 122:src/unit/motor_drive.cpp ****       }
 123:src/unit/motor_drive.cpp **** 
 124:src/unit/motor_drive.cpp ****       debug_power_left = output_left;
 571              		.loc 1 124 7 is_stmt 1 view .LVU124
 572              		.loc 1 124 26 is_stmt 0 view .LVU125
 573 0136 0AF5E063 		add	r3, r10, #1792
 574 013a D3E90001 		ldrd	r0, [r3]
 575              		.loc 1 124 24 view .LVU126
 576 013e 2A4B     		ldr	r3, .L47+24
 577 0140 C3E90001 		strd	r0, [r3]
 125:src/unit/motor_drive.cpp ****       debug_power_right = output_right;
 578              		.loc 1 125 7 is_stmt 1 view .LVU127
 579              		.loc 1 125 27 is_stmt 0 view .LVU128
 580 0144 0AF5E26A 		add	r10, r10, #1808
 581              	.LVL58:
 582              		.loc 1 125 27 view .LVU129
 583 0148 5AE90201 		ldrd	r0, [r10, #-8]
 584              		.loc 1 125 25 view .LVU130
 585 014c 274B     		ldr	r3, .L47+28
 586 014e C3E90001 		strd	r0, [r3]
 126:src/unit/motor_drive.cpp **** }
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 14


 587              		.loc 1 126 1 view .LVU131
 588 0152 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 589              	.LVL59:
 590              	.L45:
 100:src/unit/motor_drive.cpp ****       if (abs(output_right) > MAX_POWER) output_right = MAX_POWER * (abs(output_right) / output_rig
 591              		.loc 1 100 11 discriminator 2 view .LVU132
 592 0156 B046     		mov	r8, r6
 593 0158 07F10049 		add	r9, r7, #-2147483648
 594 015c 6AE7     		b	.L24
 595              	.L46:
 101:src/unit/motor_drive.cpp **** 
 596              		.loc 1 101 11 discriminator 2 view .LVU133
 597 015e 2646     		mov	r6, r4
 598              	.LVL60:
 101:src/unit/motor_drive.cpp **** 
 599              		.loc 1 101 11 discriminator 2 view .LVU134
 600 0160 05F10047 		add	r7, r5, #-2147483648
 601 0164 85E7     		b	.L27
 602              	.LVL61:
 603              	.L42:
 110:src/unit/motor_drive.cpp ****                   motor1b_->write(output_left * -0.001f);
 604              		.loc 1 110 19 is_stmt 1 view .LVU135
 110:src/unit/motor_drive.cpp ****                   motor1b_->write(output_left * -0.001f);
 605              		.loc 1 110 34 is_stmt 0 view .LVU136
 606 0166 9FED1F0A 		vldr.32	s0, .L47+20
 607 016a DAF84800 		ldr	r0, [r10, #72]
 608 016e FFF7FEFF 		bl	_ZN12PwmSingleOut5writeEf
 609              	.LVL62:
 111:src/unit/motor_drive.cpp ****             }
 610              		.loc 1 111 19 is_stmt 1 view .LVU137
 611 0172 DAF84C40 		ldr	r4, [r10, #76]
 111:src/unit/motor_drive.cpp ****             }
 612              		.loc 1 111 35 is_stmt 0 view .LVU138
 613 0176 0AF5E061 		add	r1, r10, #1792
 111:src/unit/motor_drive.cpp ****             }
 614              		.loc 1 111 47 view .LVU139
 615 017a 17A3     		adr	r3, .L47+8
 616 017c D3E90023 		ldrd	r2, [r3]
 617 0180 D1E90001 		ldrd	r0, [r1]
 618 0184 FFF7FEFF 		bl	__aeabi_dmul
 619              	.LVL63:
 111:src/unit/motor_drive.cpp ****             }
 620              		.loc 1 111 34 view .LVU140
 621 0188 FFF7FEFF 		bl	__aeabi_d2f
 622              	.LVL64:
 623 018c 00EE100A 		vmov	s0, r0
 624 0190 2046     		mov	r0, r4
 625 0192 FFF7FEFF 		bl	_ZN12PwmSingleOut5writeEf
 626              	.LVL65:
 627 0196 A9E7     		b	.L30
 628              	.L43:
 119:src/unit/motor_drive.cpp ****                   motor2b_->write(output_right * -0.001f);
 629              		.loc 1 119 19 is_stmt 1 view .LVU141
 119:src/unit/motor_drive.cpp ****                   motor2b_->write(output_right * -0.001f);
 630              		.loc 1 119 34 is_stmt 0 view .LVU142
 631 0198 9FED120A 		vldr.32	s0, .L47+20
 632 019c DAF85000 		ldr	r0, [r10, #80]
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 15


 633 01a0 FFF7FEFF 		bl	_ZN12PwmSingleOut5writeEf
 634              	.LVL66:
 120:src/unit/motor_drive.cpp ****             }
 635              		.loc 1 120 19 is_stmt 1 view .LVU143
 636 01a4 DAF85440 		ldr	r4, [r10, #84]
 120:src/unit/motor_drive.cpp ****             }
 637              		.loc 1 120 35 is_stmt 0 view .LVU144
 638 01a8 0AF5E261 		add	r1, r10, #1808
 120:src/unit/motor_drive.cpp ****             }
 639              		.loc 1 120 48 view .LVU145
 640 01ac 0AA3     		adr	r3, .L47+8
 641 01ae D3E90023 		ldrd	r2, [r3]
 642 01b2 51E90201 		ldrd	r0, [r1, #-8]
 643 01b6 FFF7FEFF 		bl	__aeabi_dmul
 644              	.LVL67:
 120:src/unit/motor_drive.cpp ****             }
 645              		.loc 1 120 34 view .LVU146
 646 01ba FFF7FEFF 		bl	__aeabi_d2f
 647              	.LVL68:
 648 01be 00EE100A 		vmov	s0, r0
 649 01c2 2046     		mov	r0, r4
 650 01c4 FFF7FEFF 		bl	_ZN12PwmSingleOut5writeEf
 651              	.LVL69:
 652 01c8 B5E7     		b	.L33
 653              	.L48:
 654 01ca 00BFAFF3 		.align	3
 654      0080
 655              	.L47:
 656 01d0 000000E0 		.word	-536870912
 657 01d4 4D62503F 		.word	1062232653
 658 01d8 000000E0 		.word	-536870912
 659 01dc 4D6250BF 		.word	-1085250995
 660 01e0 00C08240 		.word	1082310656
 661 01e4 00000000 		.word	0
 662 01e8 00000000 		.word	debug_power_left
 663 01ec 00000000 		.word	debug_power_right
 664              		.cfi_endproc
 665              	.LFE257:
 666              		.fnend
 668              		.global	__aeabi_dcmpeq
 669              		.global	__aeabi_dsub
 670              		.global	__aeabi_i2d
 671              		.global	__aeabi_dadd
 672              		.global	__aeabi_dcmplt
 673              		.section	.text._ZN10MotorDrive12SpeedControlEv,"ax",%progbits
 674              		.align	1
 675              		.global	_ZN10MotorDrive12SpeedControlEv
 676              		.syntax unified
 677              		.thumb
 678              		.thumb_func
 680              	_ZN10MotorDrive12SpeedControlEv:
 681              		.fnstart
 682              	.LVL70:
 683              	.LFB256:
  41:src/unit/motor_drive.cpp ****       if (encoder.pre_rad_left != encoder.rad_left || encoder.pre_rad_right != encoder.rad_right) {
 684              		.loc 1 41 33 is_stmt 1 view -0
 685              		.cfi_startproc
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 16


 686              		@ args = 0, pretend = 0, frame = 16
 687              		@ frame_needed = 0, uses_anonymous_args = 0
  41:src/unit/motor_drive.cpp ****       if (encoder.pre_rad_left != encoder.rad_left || encoder.pre_rad_right != encoder.rad_right) {
 688              		.loc 1 41 33 is_stmt 0 view .LVU148
 689 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 690              		.save {r4, r5, r6, r7, r8, r9, r10, lr}
 691              	.LCFI5:
 692              		.cfi_def_cfa_offset 32
 693              		.cfi_offset 4, -32
 694              		.cfi_offset 5, -28
 695              		.cfi_offset 6, -24
 696              		.cfi_offset 7, -20
 697              		.cfi_offset 8, -16
 698              		.cfi_offset 9, -12
 699              		.cfi_offset 10, -8
 700              		.cfi_offset 14, -4
 701 0004 2DED088B 		vpush.64	{d8, d9, d10, d11}
 702              		.vsave {d8, d9, d10, d11}
 703              	.LCFI6:
 704              		.cfi_def_cfa_offset 64
 705              		.cfi_offset 80, -64
 706              		.cfi_offset 81, -60
 707              		.cfi_offset 82, -56
 708              		.cfi_offset 83, -52
 709              		.cfi_offset 84, -48
 710              		.cfi_offset 85, -44
 711              		.cfi_offset 86, -40
 712              		.cfi_offset 87, -36
 713              		.pad #16
 714 0008 84B0     		sub	sp, sp, #16
 715              	.LCFI7:
 716              		.cfi_def_cfa_offset 80
 717 000a 8246     		mov	r10, r0
  42:src/unit/motor_drive.cpp ****             dt = periodTimer.read_us() * 0.000001f;                                                
 718              		.loc 1 42 7 is_stmt 1 view .LVU149
 719 000c D0E90823 		ldrd	r2, [r0, #32]
 720 0010 D0E90401 		ldrd	r0, [r0, #16]
 721              	.LVL71:
  42:src/unit/motor_drive.cpp ****             dt = periodTimer.read_us() * 0.000001f;                                                
 722              		.loc 1 42 7 is_stmt 0 view .LVU150
 723 0014 FFF7FEFF 		bl	__aeabi_dcmpeq
 724              	.LVL72:
 725 0018 40B1     		cbz	r0, .L50
  42:src/unit/motor_drive.cpp ****             dt = periodTimer.read_us() * 0.000001f;                                                
 726              		.loc 1 42 52 discriminator 1 view .LVU151
 727 001a DAE90A23 		ldrd	r2, [r10, #40]
 728 001e DAE90601 		ldrd	r0, [r10, #24]
 729 0022 FFF7FEFF 		bl	__aeabi_dcmpeq
 730              	.LVL73:
 731 0026 0028     		cmp	r0, #0
 732 0028 40F01782 		bne	.L49
 733              	.L50:
  43:src/unit/motor_drive.cpp ****             periodTimer.reset();
 734              		.loc 1 43 13 is_stmt 1 view .LVU152
  43:src/unit/motor_drive.cpp ****             periodTimer.reset();
 735              		.loc 1 43 37 is_stmt 0 view .LVU153
 736 002c 0AF5D664 		add	r4, r10, #1712
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 17


 737 0030 2046     		mov	r0, r4
 738 0032 FFF7FEFF 		bl	_ZN5Timer7read_usEv
 739              	.LVL74:
 740 0036 07EE900A 		vmov	s15, r0	@ int
  43:src/unit/motor_drive.cpp ****             periodTimer.reset();
 741              		.loc 1 43 40 view .LVU154
 742 003a F8EE677A 		vcvt.f32.u32	s15, s15
 743 003e 9FEDC67A 		vldr.32	s14, .L100+24
 744 0042 67EE877A 		vmul.f32	s15, s15, s14
 745 0046 17EE900A 		vmov	r0, s15
 746 004a FFF7FEFF 		bl	__aeabi_f2d
 747              	.LVL75:
  43:src/unit/motor_drive.cpp ****             periodTimer.reset();
 748              		.loc 1 43 16 view .LVU155
 749 004e 0AF5DE63 		add	r3, r10, #1776
 750 0052 43E90201 		strd	r0, [r3, #-8]
  44:src/unit/motor_drive.cpp **** 
 751              		.loc 1 44 13 is_stmt 1 view .LVU156
  44:src/unit/motor_drive.cpp **** 
 752              		.loc 1 44 30 is_stmt 0 view .LVU157
 753 0056 2046     		mov	r0, r4
 754 0058 FFF7FEFF 		bl	_ZN5Timer5resetEv
 755              	.LVL76:
  47:src/unit/motor_drive.cpp ****             encoder.dif_rad_right = encoder.rad_right - encoder.pre_rad_right;
 756              		.loc 1 47 13 is_stmt 1 view .LVU158
  47:src/unit/motor_drive.cpp ****             encoder.dif_rad_right = encoder.rad_right - encoder.pre_rad_right;
 757              		.loc 1 47 44 is_stmt 0 view .LVU159
 758 005c 9AED088B 		vldr.64	d8, [r10, #32]
  47:src/unit/motor_drive.cpp ****             encoder.dif_rad_right = encoder.rad_right - encoder.pre_rad_right;
 759              		.loc 1 47 53 view .LVU160
 760 0060 DAE90423 		ldrd	r2, [r10, #16]
 761 0064 51EC180B 		vmov	r0, r1, d8
 762 0068 FFF7FEFF 		bl	__aeabi_dsub
 763              	.LVL77:
 764 006c 0646     		mov	r6, r0
 765 006e 0F46     		mov	r7, r1
  47:src/unit/motor_drive.cpp ****             encoder.dif_rad_right = encoder.rad_right - encoder.pre_rad_right;
 766              		.loc 1 47 34 view .LVU161
 767 0070 CAE90C67 		strd	r6, [r10, #48]
  48:src/unit/motor_drive.cpp ****             encoder.pre_rad_left = encoder.rad_left;
 768              		.loc 1 48 13 is_stmt 1 view .LVU162
  48:src/unit/motor_drive.cpp ****             encoder.pre_rad_left = encoder.rad_left;
 769              		.loc 1 48 45 is_stmt 0 view .LVU163
 770 0074 DAE90A89 		ldrd	r8, [r10, #40]
  48:src/unit/motor_drive.cpp ****             encoder.pre_rad_left = encoder.rad_left;
 771              		.loc 1 48 55 view .LVU164
 772 0078 DAE90623 		ldrd	r2, [r10, #24]
 773 007c 4046     		mov	r0, r8
 774 007e 4946     		mov	r1, r9
 775 0080 FFF7FEFF 		bl	__aeabi_dsub
 776              	.LVL78:
 777 0084 0446     		mov	r4, r0
 778 0086 0D46     		mov	r5, r1
  48:src/unit/motor_drive.cpp ****             encoder.pre_rad_left = encoder.rad_left;
 779              		.loc 1 48 35 view .LVU165
 780 0088 CAE90E45 		strd	r4, [r10, #56]
  49:src/unit/motor_drive.cpp ****             encoder.pre_rad_right = encoder.rad_right;
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 18


 781              		.loc 1 49 13 is_stmt 1 view .LVU166
  49:src/unit/motor_drive.cpp ****             encoder.pre_rad_right = encoder.rad_right;
 782              		.loc 1 49 34 is_stmt 0 view .LVU167
 783 008c 8AED048B 		vstr.64	d8, [r10, #16]
  50:src/unit/motor_drive.cpp **** 
 784              		.loc 1 50 13 is_stmt 1 view .LVU168
  50:src/unit/motor_drive.cpp **** 
 785              		.loc 1 50 35 is_stmt 0 view .LVU169
 786 0090 CAE90689 		strd	r8, [r10, #24]
  53:src/unit/motor_drive.cpp ****             if (abs(encoder.dif_rad_right) > PI) encoder.dif_rad_right -= 2 * PI * (abs(encoder.dif
 787              		.loc 1 53 13 is_stmt 1 view .LVU170
  53:src/unit/motor_drive.cpp ****             if (abs(encoder.dif_rad_right) > PI) encoder.dif_rad_right -= 2 * PI * (abs(encoder.dif
 788              		.loc 1 53 17 is_stmt 0 view .LVU171
 789 0094 0022     		movs	r2, #0
 790 0096 0023     		movs	r3, #0
 791 0098 3046     		mov	r0, r6
 792 009a 3946     		mov	r1, r7
 793 009c FFF7FEFF 		bl	__aeabi_dcmpgt
 794              	.LVL79:
 795 00a0 0028     		cmp	r0, #0
 796 00a2 00F0DF81 		beq	.L90
 797 00a6 B046     		mov	r8, r6
 798 00a8 B946     		mov	r9, r7
 799              	.L53:
  53:src/unit/motor_drive.cpp ****             if (abs(encoder.dif_rad_right) > PI) encoder.dif_rad_right -= 2 * PI * (abs(encoder.dif
 800              		.loc 1 53 13 discriminator 4 view .LVU172
 801 00aa A5A3     		adr	r3, .L100
 802 00ac D3E90023 		ldrd	r2, [r3]
 803 00b0 4046     		mov	r0, r8
 804 00b2 4946     		mov	r1, r9
 805 00b4 FFF7FEFF 		bl	__aeabi_dcmpgt
 806              	.LVL80:
 807 00b8 90B1     		cbz	r0, .L54
  53:src/unit/motor_drive.cpp ****             if (abs(encoder.dif_rad_right) > PI) encoder.dif_rad_right -= 2 * PI * (abs(encoder.dif
 808              		.loc 1 53 49 is_stmt 1 discriminator 9 view .LVU173
  53:src/unit/motor_drive.cpp ****             if (abs(encoder.dif_rad_right) > PI) encoder.dif_rad_right -= 2 * PI * (abs(encoder.dif
 809              		.loc 1 53 109 is_stmt 0 discriminator 9 view .LVU174
 810 00ba 3246     		mov	r2, r6
 811 00bc 3B46     		mov	r3, r7
 812 00be 4046     		mov	r0, r8
 813 00c0 4946     		mov	r1, r9
 814 00c2 FFF7FEFF 		bl	__aeabi_ddiv
 815              	.LVL81:
  53:src/unit/motor_drive.cpp ****             if (abs(encoder.dif_rad_right) > PI) encoder.dif_rad_right -= 2 * PI * (abs(encoder.dif
 816              		.loc 1 53 80 discriminator 9 view .LVU175
 817 00c6 A0A3     		adr	r3, .L100+8
 818 00c8 D3E90023 		ldrd	r2, [r3]
 819 00cc FFF7FEFF 		bl	__aeabi_dmul
 820              	.LVL82:
 821 00d0 0246     		mov	r2, r0
 822 00d2 0B46     		mov	r3, r1
  53:src/unit/motor_drive.cpp ****             if (abs(encoder.dif_rad_right) > PI) encoder.dif_rad_right -= 2 * PI * (abs(encoder.dif
 823              		.loc 1 53 70 discriminator 9 view .LVU176
 824 00d4 3046     		mov	r0, r6
 825 00d6 3946     		mov	r1, r7
 826 00d8 FFF7FEFF 		bl	__aeabi_dsub
 827              	.LVL83:
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 19


 828 00dc CAE90C01 		strd	r0, [r10, #48]
 829              	.L54:
  54:src/unit/motor_drive.cpp **** 
 830              		.loc 1 54 13 is_stmt 1 view .LVU177
  54:src/unit/motor_drive.cpp **** 
 831              		.loc 1 54 17 is_stmt 0 view .LVU178
 832 00e0 0022     		movs	r2, #0
 833 00e2 0023     		movs	r3, #0
 834 00e4 2046     		mov	r0, r4
 835 00e6 2946     		mov	r1, r5
 836 00e8 FFF7FEFF 		bl	__aeabi_dcmpgt
 837              	.LVL84:
 838 00ec 0028     		cmp	r0, #0
 839 00ee 00F0BD81 		beq	.L91
 840 00f2 2646     		mov	r6, r4
 841 00f4 2F46     		mov	r7, r5
 842              	.L56:
  54:src/unit/motor_drive.cpp **** 
 843              		.loc 1 54 13 discriminator 4 view .LVU179
 844 00f6 92A3     		adr	r3, .L100
 845 00f8 D3E90023 		ldrd	r2, [r3]
 846 00fc 3046     		mov	r0, r6
 847 00fe 3946     		mov	r1, r7
 848 0100 FFF7FEFF 		bl	__aeabi_dcmpgt
 849              	.LVL85:
 850 0104 90B1     		cbz	r0, .L57
  54:src/unit/motor_drive.cpp **** 
 851              		.loc 1 54 50 is_stmt 1 discriminator 9 view .LVU180
  54:src/unit/motor_drive.cpp **** 
 852              		.loc 1 54 112 is_stmt 0 discriminator 9 view .LVU181
 853 0106 2246     		mov	r2, r4
 854 0108 2B46     		mov	r3, r5
 855 010a 3046     		mov	r0, r6
 856 010c 3946     		mov	r1, r7
 857 010e FFF7FEFF 		bl	__aeabi_ddiv
 858              	.LVL86:
  54:src/unit/motor_drive.cpp **** 
 859              		.loc 1 54 82 discriminator 9 view .LVU182
 860 0112 8DA3     		adr	r3, .L100+8
 861 0114 D3E90023 		ldrd	r2, [r3]
 862 0118 FFF7FEFF 		bl	__aeabi_dmul
 863              	.LVL87:
 864 011c 0246     		mov	r2, r0
 865 011e 0B46     		mov	r3, r1
  54:src/unit/motor_drive.cpp **** 
 866              		.loc 1 54 72 discriminator 9 view .LVU183
 867 0120 2046     		mov	r0, r4
 868 0122 2946     		mov	r1, r5
 869 0124 FFF7FEFF 		bl	__aeabi_dsub
 870              	.LVL88:
 871 0128 CAE90E01 		strd	r0, [r10, #56]
 872              	.L57:
  57:src/unit/motor_drive.cpp ****             encoder.speed_right = encoder.dif_rad_right / dt;
 873              		.loc 1 57 13 is_stmt 1 view .LVU184
  57:src/unit/motor_drive.cpp ****             encoder.speed_right = encoder.dif_rad_right / dt;
 874              		.loc 1 57 57 is_stmt 0 view .LVU185
 875 012c 0AF5DE64 		add	r4, r10, #1776
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 20


 876 0130 54E90267 		ldrd	r6, [r4, #-8]
  57:src/unit/motor_drive.cpp ****             encoder.speed_right = encoder.dif_rad_right / dt;
 877              		.loc 1 57 55 view .LVU186
 878 0134 3246     		mov	r2, r6
 879 0136 3B46     		mov	r3, r7
 880 0138 DAE90C01 		ldrd	r0, [r10, #48]
 881 013c FFF7FEFF 		bl	__aeabi_ddiv
 882              	.LVL89:
  57:src/unit/motor_drive.cpp ****             encoder.speed_right = encoder.dif_rad_right / dt;
 883              		.loc 1 57 60 view .LVU187
 884 0140 0246     		mov	r2, r0
 885 0142 01F10043 		add	r3, r1, #-2147483648
  57:src/unit/motor_drive.cpp ****             encoder.speed_right = encoder.dif_rad_right / dt;
 886              		.loc 1 57 32 view .LVU188
 887 0146 CAE90023 		strd	r2, [r10]
  58:src/unit/motor_drive.cpp ****             speedLeft.Compute(&encoder.speed_left);
 888              		.loc 1 58 13 is_stmt 1 view .LVU189
  58:src/unit/motor_drive.cpp ****             speedLeft.Compute(&encoder.speed_left);
 889              		.loc 1 58 57 is_stmt 0 view .LVU190
 890 014a 3246     		mov	r2, r6
 891 014c 3B46     		mov	r3, r7
 892 014e DAE90E01 		ldrd	r0, [r10, #56]
 893 0152 FFF7FEFF 		bl	__aeabi_ddiv
 894              	.LVL90:
  58:src/unit/motor_drive.cpp ****             speedLeft.Compute(&encoder.speed_left);
 895              		.loc 1 58 33 view .LVU191
 896 0156 CAE90201 		strd	r0, [r10, #8]
  59:src/unit/motor_drive.cpp ****             speedRight.Compute(&encoder.speed_right);
 897              		.loc 1 59 13 is_stmt 1 view .LVU192
  59:src/unit/motor_drive.cpp ****             speedRight.Compute(&encoder.speed_right);
 898              		.loc 1 59 30 is_stmt 0 view .LVU193
 899 015a 5146     		mov	r1, r10
 900 015c 0AF16000 		add	r0, r10, #96
 901 0160 FFF7FEFF 		bl	_ZN9MovingAve7ComputeEPd
 902              	.LVL91:
  60:src/unit/motor_drive.cpp **** 
 903              		.loc 1 60 13 is_stmt 1 view .LVU194
  60:src/unit/motor_drive.cpp **** 
 904              		.loc 1 60 31 is_stmt 0 view .LVU195
 905 0164 0AF10801 		add	r1, r10, #8
 906 0168 0AF56270 		add	r0, r10, #904
 907 016c FFF7FEFF 		bl	_ZN9MovingAve7ComputeEPd
 908              	.LVL92:
  64:src/unit/motor_drive.cpp ****             p_right_ = encoder.speed_right - speed_right_;
 909              		.loc 1 64 13 is_stmt 1 view .LVU196
  64:src/unit/motor_drive.cpp ****             p_right_ = encoder.speed_right - speed_right_;
 910              		.loc 1 64 31 is_stmt 0 view .LVU197
 911 0170 DAE90067 		ldrd	r6, [r10]
  64:src/unit/motor_drive.cpp ****             p_right_ = encoder.speed_right - speed_right_;
 912              		.loc 1 64 44 view .LVU198
 913 0174 BAF9B496 		ldrsh	r9, [r10, #1716]
  64:src/unit/motor_drive.cpp ****             p_right_ = encoder.speed_right - speed_right_;
 914              		.loc 1 64 42 view .LVU199
 915 0178 4846     		mov	r0, r9
 916 017a FFF7FEFF 		bl	__aeabi_i2d
 917              	.LVL93:
 918 017e 0246     		mov	r2, r0
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 21


 919 0180 0B46     		mov	r3, r1
 920 0182 3046     		mov	r0, r6
 921 0184 3946     		mov	r1, r7
 922 0186 FFF7FEFF 		bl	__aeabi_dsub
 923              	.LVL94:
 924 018a 41EC190B 		vmov	d9, r0, r1
  64:src/unit/motor_drive.cpp ****             p_right_ = encoder.speed_right - speed_right_;
 925              		.loc 1 64 21 view .LVU200
 926 018e 0AF5DA65 		add	r5, r10, #1744
 927 0192 45E90201 		strd	r0, [r5, #-8]
  65:src/unit/motor_drive.cpp ****             // 積分成分
 928              		.loc 1 65 13 is_stmt 1 view .LVU201
  65:src/unit/motor_drive.cpp ****             // 積分成分
 929              		.loc 1 65 32 is_stmt 0 view .LVU202
 930 0196 DAE90267 		ldrd	r6, [r10, #8]
  65:src/unit/motor_drive.cpp ****             // 積分成分
 931              		.loc 1 65 46 view .LVU203
 932 019a BAF9B686 		ldrsh	r8, [r10, #1718]
  65:src/unit/motor_drive.cpp ****             // 積分成分
 933              		.loc 1 65 44 view .LVU204
 934 019e 4046     		mov	r0, r8
 935 01a0 FFF7FEFF 		bl	__aeabi_i2d
 936              	.LVL95:
 937 01a4 0246     		mov	r2, r0
 938 01a6 0B46     		mov	r3, r1
 939 01a8 3046     		mov	r0, r6
 940 01aa 3946     		mov	r1, r7
 941 01ac FFF7FEFF 		bl	__aeabi_dsub
 942              	.LVL96:
 943 01b0 41EC180B 		vmov	d8, r0, r1
  65:src/unit/motor_drive.cpp ****             // 積分成分
 944              		.loc 1 65 22 view .LVU205
 945 01b4 C5E90001 		strd	r0, [r5]
  67:src/unit/motor_drive.cpp ****             i_right_ += p_right_ * dt;
 946              		.loc 1 67 13 is_stmt 1 view .LVU206
 947 01b8 0AF5DC66 		add	r6, r10, #1760
 948 01bc 16ED02AB 		vldr.64	d10, [r6, #-8]
  67:src/unit/motor_drive.cpp ****             i_right_ += p_right_ * dt;
 949              		.loc 1 67 34 is_stmt 0 view .LVU207
 950 01c0 14ED027B 		vldr.64	d7, [r4, #-8]
 951 01c4 B0EE47BA 		vmov.f32	s22, s14
 952 01c8 F0EE67BA 		vmov.f32	s23, s15
  67:src/unit/motor_drive.cpp ****             i_right_ += p_right_ * dt;
 953              		.loc 1 67 32 view .LVU208
 954 01cc 53EC172B 		vmov	r2, r3, d7
 955 01d0 51EC190B 		vmov	r0, r1, d9
 956 01d4 FFF7FEFF 		bl	__aeabi_dmul
 957              	.LVL97:
 958 01d8 0246     		mov	r2, r0
 959 01da 0B46     		mov	r3, r1
  67:src/unit/motor_drive.cpp ****             i_right_ += p_right_ * dt;
 960              		.loc 1 67 21 view .LVU209
 961 01dc 51EC1A0B 		vmov	r0, r1, d10
 962 01e0 FFF7FEFF 		bl	__aeabi_dadd
 963              	.LVL98:
 964 01e4 0446     		mov	r4, r0
 965 01e6 0D46     		mov	r5, r1
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 22


 966 01e8 46E90245 		strd	r4, [r6, #-8]
  68:src/unit/motor_drive.cpp ****             // 積分値の範囲制限
 967              		.loc 1 68 13 is_stmt 1 view .LVU210
 968 01ec 96ED00AB 		vldr.64	d10, [r6]
  68:src/unit/motor_drive.cpp ****             // 積分値の範囲制限
 969              		.loc 1 68 34 is_stmt 0 view .LVU211
 970 01f0 53EC1B2B 		vmov	r2, r3, d11
 971 01f4 51EC180B 		vmov	r0, r1, d8
 972 01f8 FFF7FEFF 		bl	__aeabi_dmul
 973              	.LVL99:
 974 01fc 0246     		mov	r2, r0
 975 01fe 0B46     		mov	r3, r1
  68:src/unit/motor_drive.cpp ****             // 積分値の範囲制限
 976              		.loc 1 68 22 view .LVU212
 977 0200 51EC1A0B 		vmov	r0, r1, d10
 978 0204 FFF7FEFF 		bl	__aeabi_dadd
 979              	.LVL100:
 980 0208 CDE90201 		strd	r0, [sp, #8]
 981 020c C6E90001 		strd	r0, [r6]
  70:src/unit/motor_drive.cpp ****             if (abs(i_right_ * ki) > 300) i_right_ = 300 / ki * (abs(i_right_) / i_right_);
 982              		.loc 1 70 13 is_stmt 1 view .LVU213
  70:src/unit/motor_drive.cpp ****             if (abs(i_right_ * ki) > 300) i_right_ = 300 / ki * (abs(i_right_) / i_right_);
 983              		.loc 1 70 17 is_stmt 0 view .LVU214
 984 0210 0AF5E063 		add	r3, r10, #1792
 985 0214 13ED027B 		vldr.64	d7, [r3, #-8]
 986 0218 8DED007B 		vstr.64	d7, [sp]
 987 021c 53EC172B 		vmov	r2, r3, d7
 988 0220 2046     		mov	r0, r4
 989 0222 2946     		mov	r1, r5
 990 0224 FFF7FEFF 		bl	__aeabi_dmul
 991              	.LVL101:
 992 0228 0646     		mov	r6, r0
 993 022a 0F46     		mov	r7, r1
 994 022c 0022     		movs	r2, #0
 995 022e 0023     		movs	r3, #0
 996 0230 FFF7FEFF 		bl	__aeabi_dcmpgt
 997              	.LVL102:
 998 0234 0028     		cmp	r0, #0
 999 0236 00F01D81 		beq	.L92
 1000              	.L59:
  70:src/unit/motor_drive.cpp ****             if (abs(i_right_ * ki) > 300) i_right_ = 300 / ki * (abs(i_right_) / i_right_);
 1001              		.loc 1 70 13 discriminator 4 view .LVU215
 1002 023a 45A3     		adr	r3, .L100+16
 1003 023c D3E90023 		ldrd	r2, [r3]
 1004 0240 3046     		mov	r0, r6
 1005 0242 3946     		mov	r1, r7
 1006 0244 FFF7FEFF 		bl	__aeabi_dcmpgt
 1007              	.LVL103:
 1008 0248 08B3     		cbz	r0, .L60
  70:src/unit/motor_drive.cpp ****             if (abs(i_right_ * ki) > 300) i_right_ = 300 / ki * (abs(i_right_) / i_right_);
 1009              		.loc 1 70 42 is_stmt 1 discriminator 5 view .LVU216
  70:src/unit/motor_drive.cpp ****             if (abs(i_right_ * ki) > 300) i_right_ = 300 / ki * (abs(i_right_) / i_right_);
 1010              		.loc 1 70 56 is_stmt 0 discriminator 5 view .LVU217
 1011 024a DDE90023 		ldrd	r2, [sp]
 1012 024e 40A1     		adr	r1, .L100+16
 1013 0250 D1E90001 		ldrd	r0, [r1]
 1014 0254 FFF7FEFF 		bl	__aeabi_ddiv
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 23


 1015              	.LVL104:
 1016 0258 0646     		mov	r6, r0
 1017 025a 0F46     		mov	r7, r1
  70:src/unit/motor_drive.cpp ****             if (abs(i_right_ * ki) > 300) i_right_ = 300 / ki * (abs(i_right_) / i_right_);
 1018              		.loc 1 70 64 discriminator 5 view .LVU218
 1019 025c 0022     		movs	r2, #0
 1020 025e 0023     		movs	r3, #0
 1021 0260 2046     		mov	r0, r4
 1022 0262 2946     		mov	r1, r5
 1023 0264 FFF7FEFF 		bl	__aeabi_dcmpgt
 1024              	.LVL105:
 1025 0268 0028     		cmp	r0, #0
 1026 026a 00F00781 		beq	.L93
  70:src/unit/motor_drive.cpp ****             if (abs(i_right_ * ki) > 300) i_right_ = 300 / ki * (abs(i_right_) / i_right_);
 1027              		.loc 1 70 64 view .LVU219
 1028 026e 2046     		mov	r0, r4
 1029 0270 2946     		mov	r1, r5
 1030              	.L62:
  70:src/unit/motor_drive.cpp ****             if (abs(i_right_ * ki) > 300) i_right_ = 300 / ki * (abs(i_right_) / i_right_);
 1031              		.loc 1 70 77 discriminator 9 view .LVU220
 1032 0272 2246     		mov	r2, r4
 1033 0274 2B46     		mov	r3, r5
 1034 0276 FFF7FEFF 		bl	__aeabi_ddiv
 1035              	.LVL106:
 1036 027a 0246     		mov	r2, r0
 1037 027c 0B46     		mov	r3, r1
  70:src/unit/motor_drive.cpp ****             if (abs(i_right_ * ki) > 300) i_right_ = 300 / ki * (abs(i_right_) / i_right_);
 1038              		.loc 1 70 61 discriminator 9 view .LVU221
 1039 027e 3046     		mov	r0, r6
 1040 0280 3946     		mov	r1, r7
 1041 0282 FFF7FEFF 		bl	__aeabi_dmul
 1042              	.LVL107:
  70:src/unit/motor_drive.cpp ****             if (abs(i_right_ * ki) > 300) i_right_ = 300 / ki * (abs(i_right_) / i_right_);
 1043              		.loc 1 70 50 discriminator 9 view .LVU222
 1044 0286 0AF5DC63 		add	r3, r10, #1760
 1045 028a 43E90201 		strd	r0, [r3, #-8]
 1046              	.L60:
  71:src/unit/motor_drive.cpp ****             // speedが0に指定されたらi成分を減らしていく
 1047              		.loc 1 71 13 is_stmt 1 view .LVU223
  71:src/unit/motor_drive.cpp ****             // speedが0に指定されたらi成分を減らしていく
 1048              		.loc 1 71 17 is_stmt 0 view .LVU224
 1049 028e DDE90023 		ldrd	r2, [sp]
 1050 0292 DDE90201 		ldrd	r0, [sp, #8]
 1051 0296 FFF7FEFF 		bl	__aeabi_dmul
 1052              	.LVL108:
 1053 029a 0446     		mov	r4, r0
 1054 029c 0D46     		mov	r5, r1
 1055 029e 0022     		movs	r2, #0
 1056 02a0 0023     		movs	r3, #0
 1057 02a2 FFF7FEFF 		bl	__aeabi_dcmpgt
 1058              	.LVL109:
 1059 02a6 0028     		cmp	r0, #0
 1060 02a8 00F0EC80 		beq	.L94
 1061              	.L63:
  71:src/unit/motor_drive.cpp ****             // speedが0に指定されたらi成分を減らしていく
 1062              		.loc 1 71 13 discriminator 4 view .LVU225
 1063 02ac 28A3     		adr	r3, .L100+16
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 24


 1064 02ae D3E90023 		ldrd	r2, [r3]
 1065 02b2 2046     		mov	r0, r4
 1066 02b4 2946     		mov	r1, r5
 1067 02b6 FFF7FEFF 		bl	__aeabi_dcmpgt
 1068              	.LVL110:
 1069 02ba 18B3     		cbz	r0, .L64
  71:src/unit/motor_drive.cpp ****             // speedが0に指定されたらi成分を減らしていく
 1070              		.loc 1 71 43 is_stmt 1 discriminator 5 view .LVU226
  71:src/unit/motor_drive.cpp ****             // speedが0に指定されたらi成分を減らしていく
 1071              		.loc 1 71 58 is_stmt 0 discriminator 5 view .LVU227
 1072 02bc DDE90023 		ldrd	r2, [sp]
 1073 02c0 23A1     		adr	r1, .L100+16
 1074 02c2 D1E90001 		ldrd	r0, [r1]
 1075 02c6 FFF7FEFF 		bl	__aeabi_ddiv
 1076              	.LVL111:
 1077 02ca 0446     		mov	r4, r0
 1078 02cc 0D46     		mov	r5, r1
  71:src/unit/motor_drive.cpp ****             // speedが0に指定されたらi成分を減らしていく
 1079              		.loc 1 71 66 discriminator 5 view .LVU228
 1080 02ce 0022     		movs	r2, #0
 1081 02d0 0023     		movs	r3, #0
 1082 02d2 DDE90267 		ldrd	r6, [sp, #8]
 1083 02d6 3046     		mov	r0, r6
 1084 02d8 3946     		mov	r1, r7
 1085 02da FFF7FEFF 		bl	__aeabi_dcmpgt
 1086              	.LVL112:
 1087 02de 0028     		cmp	r0, #0
 1088 02e0 00F0D480 		beq	.L95
  71:src/unit/motor_drive.cpp ****             // speedが0に指定されたらi成分を減らしていく
 1089              		.loc 1 71 66 view .LVU229
 1090 02e4 DDE90201 		ldrd	r0, [sp, #8]
 1091              	.L66:
  71:src/unit/motor_drive.cpp ****             // speedが0に指定されたらi成分を減らしていく
 1092              		.loc 1 71 80 discriminator 9 view .LVU230
 1093 02e8 DDE90223 		ldrd	r2, [sp, #8]
 1094 02ec FFF7FEFF 		bl	__aeabi_ddiv
 1095              	.LVL113:
 1096 02f0 0246     		mov	r2, r0
 1097 02f2 0B46     		mov	r3, r1
  71:src/unit/motor_drive.cpp ****             // speedが0に指定されたらi成分を減らしていく
 1098              		.loc 1 71 63 discriminator 9 view .LVU231
 1099 02f4 2046     		mov	r0, r4
 1100 02f6 2946     		mov	r1, r5
 1101 02f8 FFF7FEFF 		bl	__aeabi_dmul
 1102              	.LVL114:
  71:src/unit/motor_drive.cpp ****             // speedが0に指定されたらi成分を減らしていく
 1103              		.loc 1 71 52 discriminator 9 view .LVU232
 1104 02fc 0AF5DC63 		add	r3, r10, #1760
 1105 0300 C3E90001 		strd	r0, [r3]
 1106              	.L64:
  73:src/unit/motor_drive.cpp ****             if (speed_right_ == 0) i_right_ *= 0.5;
 1107              		.loc 1 73 13 is_stmt 1 view .LVU233
 1108 0304 B9F1000F 		cmp	r9, #0
 1109 0308 09D1     		bne	.L67
  73:src/unit/motor_drive.cpp ****             if (speed_right_ == 0) i_right_ *= 0.5;
 1110              		.loc 1 73 35 discriminator 1 view .LVU234
 1111 030a 0AF5DC64 		add	r4, r10, #1760
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 25


  73:src/unit/motor_drive.cpp ****             if (speed_right_ == 0) i_right_ *= 0.5;
 1112              		.loc 1 73 43 is_stmt 0 discriminator 1 view .LVU235
 1113 030e 0022     		movs	r2, #0
 1114 0310 124B     		ldr	r3, .L100+28
 1115 0312 54E90201 		ldrd	r0, [r4, #-8]
 1116 0316 FFF7FEFF 		bl	__aeabi_dmul
 1117              	.LVL115:
 1118 031a 44E90201 		strd	r0, [r4, #-8]
 1119              	.L67:
  74:src/unit/motor_drive.cpp ****             // 合算
 1120              		.loc 1 74 13 is_stmt 1 view .LVU236
 1121 031e B8F1000F 		cmp	r8, #0
 1122 0322 1DD1     		bne	.L68
  74:src/unit/motor_drive.cpp ****             // 合算
 1123              		.loc 1 74 36 discriminator 1 view .LVU237
 1124 0324 0AF5DC64 		add	r4, r10, #1760
  74:src/unit/motor_drive.cpp ****             // 合算
 1125              		.loc 1 74 45 is_stmt 0 discriminator 1 view .LVU238
 1126 0328 0022     		movs	r2, #0
 1127 032a 0C4B     		ldr	r3, .L100+28
 1128 032c D4E90001 		ldrd	r0, [r4]
 1129 0330 FFF7FEFF 		bl	__aeabi_dmul
 1130              	.LVL116:
 1131 0334 C4E90001 		strd	r0, [r4]
 1132 0338 12E0     		b	.L101
 1133              	.L102:
 1134 033a 00BFAFF3 		.align	3
 1134      0080
 1135              	.L100:
 1136 0340 182D4454 		.word	1413754136
 1137 0344 FB210940 		.word	1074340347
 1138 0348 182D4454 		.word	1413754136
 1139 034c FB211940 		.word	1075388923
 1140 0350 00000000 		.word	0
 1141 0354 00C07240 		.word	1081262080
 1142 0358 BD378635 		.word	897988541
 1143 035c 0000E03F 		.word	1071644672
 1144              	.L101:
 1145              	.L68:
  76:src/unit/motor_drive.cpp ****             power_right_ = 0 - kp * p_right_ - ki * i_right_;
 1146              		.loc 1 76 13 is_stmt 1 view .LVU239
  76:src/unit/motor_drive.cpp ****             power_right_ = 0 - kp * p_right_ - ki * i_right_;
 1147              		.loc 1 76 31 is_stmt 0 view .LVU240
 1148 0360 0AF5DE63 		add	r3, r10, #1776
 1149 0364 D3E90045 		ldrd	r4, [r3]
  76:src/unit/motor_drive.cpp ****             power_right_ = 0 - kp * p_right_ - ki * i_right_;
 1150              		.loc 1 76 34 view .LVU241
 1151 0368 2246     		mov	r2, r4
 1152 036a 2B46     		mov	r3, r5
 1153 036c 51EC190B 		vmov	r0, r1, d9
 1154 0370 FFF7FEFF 		bl	__aeabi_dmul
 1155              	.LVL117:
 1156 0374 0246     		mov	r2, r0
 1157 0376 0B46     		mov	r3, r1
  76:src/unit/motor_drive.cpp ****             power_right_ = 0 - kp * p_right_ - ki * i_right_;
 1158              		.loc 1 76 29 view .LVU242
 1159 0378 0020     		movs	r0, #0
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 26


 1160 037a 0021     		movs	r1, #0
 1161 037c FFF7FEFF 		bl	__aeabi_dsub
 1162              	.LVL118:
 1163 0380 CDE90201 		strd	r0, [sp, #8]
  76:src/unit/motor_drive.cpp ****             power_right_ = 0 - kp * p_right_ - ki * i_right_;
 1164              		.loc 1 76 51 view .LVU243
 1165 0384 0AF5DC66 		add	r6, r10, #1760
  76:src/unit/motor_drive.cpp ****             power_right_ = 0 - kp * p_right_ - ki * i_right_;
 1166              		.loc 1 76 49 view .LVU244
 1167 0388 56E90223 		ldrd	r2, [r6, #-8]
 1168 038c DDE90001 		ldrd	r0, [sp]
 1169 0390 FFF7FEFF 		bl	__aeabi_dmul
 1170              	.LVL119:
 1171 0394 0246     		mov	r2, r0
 1172 0396 0B46     		mov	r3, r1
  76:src/unit/motor_drive.cpp ****             power_right_ = 0 - kp * p_right_ - ki * i_right_;
 1173              		.loc 1 76 44 view .LVU245
 1174 0398 DDE90201 		ldrd	r0, [sp, #8]
 1175 039c FFF7FEFF 		bl	__aeabi_dsub
 1176              	.LVL120:
 1177 03a0 41EC190B 		vmov	d9, r0, r1
  76:src/unit/motor_drive.cpp ****             power_right_ = 0 - kp * p_right_ - ki * i_right_;
 1178              		.loc 1 76 25 view .LVU246
 1179 03a4 0AF5D867 		add	r7, r10, #1728
 1180 03a8 47E90201 		strd	r0, [r7, #-8]
  77:src/unit/motor_drive.cpp **** 
 1181              		.loc 1 77 13 is_stmt 1 view .LVU247
  77:src/unit/motor_drive.cpp **** 
 1182              		.loc 1 77 35 is_stmt 0 view .LVU248
 1183 03ac 2246     		mov	r2, r4
 1184 03ae 2B46     		mov	r3, r5
 1185 03b0 51EC180B 		vmov	r0, r1, d8
 1186 03b4 FFF7FEFF 		bl	__aeabi_dmul
 1187              	.LVL121:
 1188 03b8 0246     		mov	r2, r0
 1189 03ba 0B46     		mov	r3, r1
  77:src/unit/motor_drive.cpp **** 
 1190              		.loc 1 77 30 view .LVU249
 1191 03bc 0020     		movs	r0, #0
 1192 03be 0021     		movs	r1, #0
 1193 03c0 FFF7FEFF 		bl	__aeabi_dsub
 1194              	.LVL122:
 1195 03c4 0446     		mov	r4, r0
 1196 03c6 0D46     		mov	r5, r1
  77:src/unit/motor_drive.cpp **** 
 1197              		.loc 1 77 51 view .LVU250
 1198 03c8 D6E90023 		ldrd	r2, [r6]
 1199 03cc DDE90001 		ldrd	r0, [sp]
 1200 03d0 FFF7FEFF 		bl	__aeabi_dmul
 1201              	.LVL123:
 1202 03d4 0246     		mov	r2, r0
 1203 03d6 0B46     		mov	r3, r1
  77:src/unit/motor_drive.cpp **** 
 1204              		.loc 1 77 46 view .LVU251
 1205 03d8 2046     		mov	r0, r4
 1206 03da 2946     		mov	r1, r5
 1207 03dc FFF7FEFF 		bl	__aeabi_dsub
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 27


 1208              	.LVL124:
 1209 03e0 0446     		mov	r4, r0
 1210 03e2 0D46     		mov	r5, r1
  77:src/unit/motor_drive.cpp **** 
 1211              		.loc 1 77 26 view .LVU252
 1212 03e4 C7E90045 		strd	r4, [r7]
  80:src/unit/motor_drive.cpp ****             if (speed_right_ > 0 && power_right_ < 1) power_right_ = 1;
 1213              		.loc 1 80 13 is_stmt 1 view .LVU253
 1214 03e8 B9F1000F 		cmp	r9, #0
 1215 03ec 07DD     		ble	.L69
  80:src/unit/motor_drive.cpp ****             if (speed_right_ > 0 && power_right_ < 1) power_right_ = 1;
 1216              		.loc 1 80 33 is_stmt 0 discriminator 1 view .LVU254
 1217 03ee 0022     		movs	r2, #0
 1218 03f0 3F4B     		ldr	r3, .L103
 1219 03f2 51EC190B 		vmov	r0, r1, d9
 1220 03f6 FFF7FEFF 		bl	__aeabi_dcmplt
 1221              	.LVL125:
 1222 03fa 0028     		cmp	r0, #0
 1223 03fc 4AD1     		bne	.L96
 1224              	.L69:
  81:src/unit/motor_drive.cpp ****             if (speed_left_ < 0 && power_left_ > -1) power_left_ = -1;
 1225              		.loc 1 81 13 is_stmt 1 view .LVU255
 1226 03fe B8F1000F 		cmp	r8, #0
 1227 0402 07DD     		ble	.L71
  81:src/unit/motor_drive.cpp ****             if (speed_left_ < 0 && power_left_ > -1) power_left_ = -1;
 1228              		.loc 1 81 34 is_stmt 0 discriminator 1 view .LVU256
 1229 0404 0022     		movs	r2, #0
 1230 0406 3A4B     		ldr	r3, .L103
 1231 0408 2046     		mov	r0, r4
 1232 040a 2946     		mov	r1, r5
 1233 040c FFF7FEFF 		bl	__aeabi_dcmplt
 1234              	.LVL126:
 1235 0410 0028     		cmp	r0, #0
 1236 0412 44D1     		bne	.L97
 1237              	.L71:
  82:src/unit/motor_drive.cpp ****             if (speed_right_ < 0 && power_right_ > -1) power_right_ = -1;
 1238              		.loc 1 82 13 is_stmt 1 view .LVU257
 1239 0414 B9F1000F 		cmp	r9, #0
 1240 0418 48DB     		blt	.L98
 1241              	.L73:
  83:src/unit/motor_drive.cpp **** 
 1242              		.loc 1 83 13 view .LVU258
 1243 041a B8F1000F 		cmp	r8, #0
 1244 041e 56DB     		blt	.L99
 1245              	.L75:
  85:src/unit/motor_drive.cpp **** 
 1246              		.loc 1 85 13 view .LVU259
  85:src/unit/motor_drive.cpp **** 
 1247              		.loc 1 85 16 is_stmt 0 view .LVU260
 1248 0420 0AF5D863 		add	r3, r10, #1728
 1249 0424 93ED001B 		vldr.64	d1, [r3]
 1250 0428 13ED020B 		vldr.64	d0, [r3, #-8]
 1251 042c 5046     		mov	r0, r10
 1252 042e FFF7FEFF 		bl	_ZN10MotorDrive3RunEdd
 1253              	.LVL127:
  88:src/unit/motor_drive.cpp ****             debug_speed_right = encoder.speed_right;
 1254              		.loc 1 88 13 is_stmt 1 view .LVU261
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 28


  88:src/unit/motor_drive.cpp ****             debug_speed_right = encoder.speed_right;
 1255              		.loc 1 88 40 is_stmt 0 view .LVU262
 1256 0432 DAE90001 		ldrd	r0, [r10]
  88:src/unit/motor_drive.cpp ****             debug_speed_right = encoder.speed_right;
 1257              		.loc 1 88 30 view .LVU263
 1258 0436 2F4B     		ldr	r3, .L103+4
 1259 0438 C3E90001 		strd	r0, [r3]
  89:src/unit/motor_drive.cpp ****             debug_rad_left = encoder.rad_left;
 1260              		.loc 1 89 13 is_stmt 1 view .LVU264
  89:src/unit/motor_drive.cpp ****             debug_rad_left = encoder.rad_left;
 1261              		.loc 1 89 41 is_stmt 0 view .LVU265
 1262 043c DAE90201 		ldrd	r0, [r10, #8]
  89:src/unit/motor_drive.cpp ****             debug_rad_left = encoder.rad_left;
 1263              		.loc 1 89 31 view .LVU266
 1264 0440 2D4B     		ldr	r3, .L103+8
 1265 0442 C3E90001 		strd	r0, [r3]
  90:src/unit/motor_drive.cpp ****             debug_rad_right = encoder.rad_right;
 1266              		.loc 1 90 13 is_stmt 1 view .LVU267
  90:src/unit/motor_drive.cpp ****             debug_rad_right = encoder.rad_right;
 1267              		.loc 1 90 38 is_stmt 0 view .LVU268
 1268 0446 DAE90801 		ldrd	r0, [r10, #32]
  90:src/unit/motor_drive.cpp ****             debug_rad_right = encoder.rad_right;
 1269              		.loc 1 90 28 view .LVU269
 1270 044a 2C4B     		ldr	r3, .L103+12
 1271 044c C3E90001 		strd	r0, [r3]
  91:src/unit/motor_drive.cpp ****       }
 1272              		.loc 1 91 13 is_stmt 1 view .LVU270
  91:src/unit/motor_drive.cpp ****       }
 1273              		.loc 1 91 39 is_stmt 0 view .LVU271
 1274 0450 DAE90A01 		ldrd	r0, [r10, #40]
  91:src/unit/motor_drive.cpp ****       }
 1275              		.loc 1 91 29 view .LVU272
 1276 0454 2A4B     		ldr	r3, .L103+16
 1277 0456 C3E90001 		strd	r0, [r3]
 1278              	.L49:
  93:src/unit/motor_drive.cpp **** 
 1279              		.loc 1 93 1 view .LVU273
 1280 045a 04B0     		add	sp, sp, #16
 1281              	.LCFI8:
 1282              		.cfi_remember_state
 1283              		.cfi_def_cfa_offset 64
 1284              		@ sp needed
 1285 045c BDEC088B 		vldm	sp!, {d8-d11}
 1286              	.LCFI9:
 1287              		.cfi_restore 86
 1288              		.cfi_restore 87
 1289              		.cfi_restore 84
 1290              		.cfi_restore 85
 1291              		.cfi_restore 82
 1292              		.cfi_restore 83
 1293              		.cfi_restore 80
 1294              		.cfi_restore 81
 1295              		.cfi_def_cfa_offset 32
 1296 0460 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 1297              	.LVL128:
 1298              	.L90:
 1299              	.LCFI10:
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 29


 1300              		.cfi_restore_state
  53:src/unit/motor_drive.cpp ****             if (abs(encoder.dif_rad_right) > PI) encoder.dif_rad_right -= 2 * PI * (abs(encoder.dif
 1301              		.loc 1 53 17 discriminator 2 view .LVU274
 1302 0464 B046     		mov	r8, r6
 1303 0466 07F10049 		add	r9, r7, #-2147483648
 1304 046a 1EE6     		b	.L53
 1305              	.L91:
  54:src/unit/motor_drive.cpp **** 
 1306              		.loc 1 54 17 discriminator 2 view .LVU275
 1307 046c 2646     		mov	r6, r4
 1308 046e 05F10047 		add	r7, r5, #-2147483648
 1309 0472 40E6     		b	.L56
 1310              	.L92:
  70:src/unit/motor_drive.cpp ****             if (abs(i_right_ * ki) > 300) i_right_ = 300 / ki * (abs(i_right_) / i_right_);
 1311              		.loc 1 70 17 discriminator 2 view .LVU276
 1312 0474 07F10043 		add	r3, r7, #-2147483648
 1313 0478 1F46     		mov	r7, r3
 1314 047a DEE6     		b	.L59
 1315              	.L93:
  70:src/unit/motor_drive.cpp ****             if (abs(i_right_ * ki) > 300) i_right_ = 300 / ki * (abs(i_right_) / i_right_);
 1316              		.loc 1 70 64 discriminator 7 view .LVU277
 1317 047c 2046     		mov	r0, r4
 1318 047e 05F10041 		add	r1, r5, #-2147483648
 1319 0482 F6E6     		b	.L62
 1320              	.L94:
  71:src/unit/motor_drive.cpp ****             // speedが0に指定されたらi成分を減らしていく
 1321              		.loc 1 71 17 discriminator 2 view .LVU278
 1322 0484 05F10043 		add	r3, r5, #-2147483648
 1323 0488 1D46     		mov	r5, r3
 1324 048a 0FE7     		b	.L63
 1325              	.L95:
  71:src/unit/motor_drive.cpp ****             // speedが0に指定されたらi成分を減らしていく
 1326              		.loc 1 71 66 discriminator 7 view .LVU279
 1327 048c 3046     		mov	r0, r6
 1328 048e 07F10041 		add	r1, r7, #-2147483648
 1329 0492 29E7     		b	.L66
 1330              	.L96:
  80:src/unit/motor_drive.cpp ****             if (speed_right_ > 0 && power_right_ < 1) power_right_ = 1;
 1331              		.loc 1 80 53 is_stmt 1 discriminator 2 view .LVU280
  80:src/unit/motor_drive.cpp ****             if (speed_right_ > 0 && power_right_ < 1) power_right_ = 1;
 1332              		.loc 1 80 65 is_stmt 0 discriminator 2 view .LVU281
 1333 0494 0020     		movs	r0, #0
 1334 0496 1649     		ldr	r1, .L103
 1335 0498 47E90201 		strd	r0, [r7, #-8]
 1336 049c AFE7     		b	.L69
 1337              	.L97:
  81:src/unit/motor_drive.cpp ****             if (speed_left_ < 0 && power_left_ > -1) power_left_ = -1;
 1338              		.loc 1 81 55 is_stmt 1 discriminator 2 view .LVU282
  81:src/unit/motor_drive.cpp ****             if (speed_left_ < 0 && power_left_ > -1) power_left_ = -1;
 1339              		.loc 1 81 68 is_stmt 0 discriminator 2 view .LVU283
 1340 049e 0AF5D863 		add	r3, r10, #1728
 1341 04a2 0020     		movs	r0, #0
 1342 04a4 1249     		ldr	r1, .L103
 1343 04a6 C3E90001 		strd	r0, [r3]
 1344 04aa B3E7     		b	.L71
 1345              	.L98:
  82:src/unit/motor_drive.cpp ****             if (speed_right_ < 0 && power_right_ > -1) power_right_ = -1;
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 30


 1346              		.loc 1 82 36 discriminator 1 view .LVU284
 1347 04ac 0AF5D861 		add	r1, r10, #1728
  82:src/unit/motor_drive.cpp ****             if (speed_right_ < 0 && power_right_ > -1) power_right_ = -1;
 1348              		.loc 1 82 33 discriminator 1 view .LVU285
 1349 04b0 0022     		movs	r2, #0
 1350 04b2 144B     		ldr	r3, .L103+20
 1351 04b4 51E90201 		ldrd	r0, [r1, #-8]
 1352 04b8 FFF7FEFF 		bl	__aeabi_dcmpgt
 1353              	.LVL129:
 1354 04bc 0028     		cmp	r0, #0
 1355 04be ACD0     		beq	.L73
  82:src/unit/motor_drive.cpp ****             if (speed_right_ < 0 && power_right_ > -1) power_right_ = -1;
 1356              		.loc 1 82 54 is_stmt 1 discriminator 2 view .LVU286
  82:src/unit/motor_drive.cpp ****             if (speed_right_ < 0 && power_right_ > -1) power_right_ = -1;
 1357              		.loc 1 82 66 is_stmt 0 discriminator 2 view .LVU287
 1358 04c0 0AF5D863 		add	r3, r10, #1728
 1359 04c4 0020     		movs	r0, #0
 1360 04c6 0F49     		ldr	r1, .L103+20
 1361 04c8 43E90201 		strd	r0, [r3, #-8]
 1362 04cc A5E7     		b	.L73
 1363              	.L99:
  83:src/unit/motor_drive.cpp **** 
 1364              		.loc 1 83 37 discriminator 1 view .LVU288
 1365 04ce 0AF5D861 		add	r1, r10, #1728
  83:src/unit/motor_drive.cpp **** 
 1366              		.loc 1 83 34 discriminator 1 view .LVU289
 1367 04d2 0022     		movs	r2, #0
 1368 04d4 0B4B     		ldr	r3, .L103+20
 1369 04d6 D1E90001 		ldrd	r0, [r1]
 1370 04da FFF7FEFF 		bl	__aeabi_dcmpgt
 1371              	.LVL130:
 1372 04de 0028     		cmp	r0, #0
 1373 04e0 9ED0     		beq	.L75
  83:src/unit/motor_drive.cpp **** 
 1374              		.loc 1 83 56 is_stmt 1 discriminator 2 view .LVU290
  83:src/unit/motor_drive.cpp **** 
 1375              		.loc 1 83 69 is_stmt 0 discriminator 2 view .LVU291
 1376 04e2 0AF5D863 		add	r3, r10, #1728
 1377 04e6 0020     		movs	r0, #0
 1378 04e8 0649     		ldr	r1, .L103+20
 1379 04ea C3E90001 		strd	r0, [r3]
 1380 04ee 97E7     		b	.L75
 1381              	.L104:
 1382              		.align	2
 1383              	.L103:
 1384 04f0 0000F03F 		.word	1072693248
 1385 04f4 00000000 		.word	debug_speed_left
 1386 04f8 00000000 		.word	debug_speed_right
 1387 04fc 00000000 		.word	debug_rad_left
 1388 0500 00000000 		.word	debug_rad_right
 1389 0504 0000F0BF 		.word	-1074790400
 1390              		.cfi_endproc
 1391              	.LFE256:
 1392              		.fnend
 1394              		.section	.text._ZN10MotorDrive14EncoderComputeEv,"ax",%progbits
 1395              		.align	1
 1396              		.global	_ZN10MotorDrive14EncoderComputeEv
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 31


 1397              		.syntax unified
 1398              		.thumb
 1399              		.thumb_func
 1401              	_ZN10MotorDrive14EncoderComputeEv:
 1402              		.fnstart
 1403              	.LVL131:
 1404              	.LFB255:
  29:src/unit/motor_drive.cpp ****       if (*encoder_val_left_ != 0 && *encoder_val_right_ != 0) {
 1405              		.loc 1 29 35 is_stmt 1 view -0
 1406              		.cfi_startproc
 1407              		@ args = 0, pretend = 0, frame = 0
 1408              		@ frame_needed = 0, uses_anonymous_args = 0
  30:src/unit/motor_drive.cpp ****             // 最大値を求める
 1409              		.loc 1 30 7 view .LVU293
  30:src/unit/motor_drive.cpp ****             // 最大値を求める
 1410              		.loc 1 30 12 is_stmt 0 view .LVU294
 1411 0000 826D     		ldr	r2, [r0, #88]
  30:src/unit/motor_drive.cpp ****             // 最大値を求める
 1412              		.loc 1 30 11 view .LVU295
 1413 0002 1388     		ldrh	r3, [r2]
  30:src/unit/motor_drive.cpp ****             // 最大値を求める
 1414              		.loc 1 30 7 view .LVU296
 1415 0004 002B     		cmp	r3, #0
 1416 0006 47D0     		beq	.L110
  29:src/unit/motor_drive.cpp ****       if (*encoder_val_left_ != 0 && *encoder_val_right_ != 0) {
 1417              		.loc 1 29 35 discriminator 1 view .LVU297
 1418 0008 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1419              		.save {r4, r5, r6, r7, r8, lr}
 1420              	.LCFI11:
 1421              		.cfi_def_cfa_offset 24
 1422              		.cfi_offset 4, -24
 1423              		.cfi_offset 5, -20
 1424              		.cfi_offset 6, -16
 1425              		.cfi_offset 7, -12
 1426              		.cfi_offset 8, -8
 1427              		.cfi_offset 14, -4
 1428 000c 0446     		mov	r4, r0
  30:src/unit/motor_drive.cpp ****             // 最大値を求める
 1429              		.loc 1 30 39 discriminator 1 view .LVU298
 1430 000e C56D     		ldr	r5, [r0, #92]
  30:src/unit/motor_drive.cpp ****             // 最大値を求める
 1431              		.loc 1 30 38 discriminator 1 view .LVU299
 1432 0010 2988     		ldrh	r1, [r5]
  30:src/unit/motor_drive.cpp ****             // 最大値を求める
 1433              		.loc 1 30 35 discriminator 1 view .LVU300
 1434 0012 0029     		cmp	r1, #0
 1435 0014 3ED0     		beq	.L105
  32:src/unit/motor_drive.cpp ****             if (*encoder_val_right_ > encoder.max_val_right) encoder.max_val_right = *encoder_val_r
 1436              		.loc 1 32 13 is_stmt 1 view .LVU301
  32:src/unit/motor_drive.cpp ****             if (*encoder_val_right_ > encoder.max_val_right) encoder.max_val_right = *encoder_val_r
 1437              		.loc 1 32 46 is_stmt 0 view .LVU302
 1438 0016 B0F84010 		ldrh	r1, [r0, #64]
  32:src/unit/motor_drive.cpp ****             if (*encoder_val_right_ > encoder.max_val_right) encoder.max_val_right = *encoder_val_r
 1439              		.loc 1 32 13 view .LVU303
 1440 001a 8B42     		cmp	r3, r1
 1441 001c 01D9     		bls	.L107
  32:src/unit/motor_drive.cpp ****             if (*encoder_val_right_ > encoder.max_val_right) encoder.max_val_right = *encoder_val_r
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 32


 1442              		.loc 1 32 60 is_stmt 1 discriminator 1 view .LVU304
  32:src/unit/motor_drive.cpp ****             if (*encoder_val_right_ > encoder.max_val_right) encoder.max_val_right = *encoder_val_r
 1443              		.loc 1 32 81 is_stmt 0 discriminator 1 view .LVU305
 1444 001e A0F84030 		strh	r3, [r0, #64]	@ movhi
 1445              	.L107:
  33:src/unit/motor_drive.cpp ****             // radianに変換
 1446              		.loc 1 33 13 is_stmt 1 view .LVU306
  33:src/unit/motor_drive.cpp ****             // radianに変換
 1447              		.loc 1 33 17 is_stmt 0 view .LVU307
 1448 0022 2B88     		ldrh	r3, [r5]
  33:src/unit/motor_drive.cpp ****             // radianに変換
 1449              		.loc 1 33 47 view .LVU308
 1450 0024 B4F84210 		ldrh	r1, [r4, #66]
  33:src/unit/motor_drive.cpp ****             // radianに変換
 1451              		.loc 1 33 13 view .LVU309
 1452 0028 8B42     		cmp	r3, r1
 1453 002a 01D9     		bls	.L108
  33:src/unit/motor_drive.cpp ****             // radianに変換
 1454              		.loc 1 33 62 is_stmt 1 discriminator 1 view .LVU310
  33:src/unit/motor_drive.cpp ****             // radianに変換
 1455              		.loc 1 33 84 is_stmt 0 discriminator 1 view .LVU311
 1456 002c A4F84230 		strh	r3, [r4, #66]	@ movhi
 1457              	.L108:
  35:src/unit/motor_drive.cpp ****             encoder.rad_right = *encoder_val_right_ * (2 * PI / encoder.max_val_right);
 1458              		.loc 1 35 13 is_stmt 1 view .LVU312
  35:src/unit/motor_drive.cpp ****             encoder.rad_right = *encoder_val_right_ * (2 * PI / encoder.max_val_right);
 1459              		.loc 1 35 32 is_stmt 0 view .LVU313
 1460 0030 B2F80080 		ldrh	r8, [r2]
  35:src/unit/motor_drive.cpp ****             encoder.rad_right = *encoder_val_right_ * (2 * PI / encoder.max_val_right);
 1461              		.loc 1 35 61 view .LVU314
 1462 0034 B4F84000 		ldrh	r0, [r4, #64]
 1463              	.LVL132:
  35:src/unit/motor_drive.cpp ****             encoder.rad_right = *encoder_val_right_ * (2 * PI / encoder.max_val_right);
 1464              		.loc 1 35 61 view .LVU315
 1465 0038 FFF7FEFF 		bl	__aeabi_i2d
 1466              	.LVL133:
 1467 003c 0246     		mov	r2, r0
 1468 003e 0B46     		mov	r3, r1
 1469 0040 17A1     		adr	r1, .L113
 1470 0042 D1E90001 		ldrd	r0, [r1]
 1471 0046 FFF7FEFF 		bl	__aeabi_ddiv
 1472              	.LVL134:
 1473 004a 0646     		mov	r6, r0
 1474 004c 0F46     		mov	r7, r1
  35:src/unit/motor_drive.cpp ****             encoder.rad_right = *encoder_val_right_ * (2 * PI / encoder.max_val_right);
 1475              		.loc 1 35 51 view .LVU316
 1476 004e 4046     		mov	r0, r8
 1477 0050 FFF7FEFF 		bl	__aeabi_i2d
 1478              	.LVL135:
 1479 0054 3246     		mov	r2, r6
 1480 0056 3B46     		mov	r3, r7
 1481 0058 FFF7FEFF 		bl	__aeabi_dmul
 1482              	.LVL136:
  35:src/unit/motor_drive.cpp ****             encoder.rad_right = *encoder_val_right_ * (2 * PI / encoder.max_val_right);
 1483              		.loc 1 35 30 view .LVU317
 1484 005c C4E90801 		strd	r0, [r4, #32]
  36:src/unit/motor_drive.cpp ****             SpeedControl();
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 33


 1485              		.loc 1 36 13 is_stmt 1 view .LVU318
  36:src/unit/motor_drive.cpp ****             SpeedControl();
 1486              		.loc 1 36 33 is_stmt 0 view .LVU319
 1487 0060 2D88     		ldrh	r5, [r5]
  36:src/unit/motor_drive.cpp ****             SpeedControl();
 1488              		.loc 1 36 63 view .LVU320
 1489 0062 B4F84200 		ldrh	r0, [r4, #66]
 1490 0066 FFF7FEFF 		bl	__aeabi_i2d
 1491              	.LVL137:
 1492 006a 0246     		mov	r2, r0
 1493 006c 0B46     		mov	r3, r1
 1494 006e 0CA1     		adr	r1, .L113
 1495 0070 D1E90001 		ldrd	r0, [r1]
 1496 0074 FFF7FEFF 		bl	__aeabi_ddiv
 1497              	.LVL138:
 1498 0078 0646     		mov	r6, r0
 1499 007a 0F46     		mov	r7, r1
  36:src/unit/motor_drive.cpp ****             SpeedControl();
 1500              		.loc 1 36 53 view .LVU321
 1501 007c 2846     		mov	r0, r5
 1502 007e FFF7FEFF 		bl	__aeabi_i2d
 1503              	.LVL139:
 1504 0082 3246     		mov	r2, r6
 1505 0084 3B46     		mov	r3, r7
 1506 0086 FFF7FEFF 		bl	__aeabi_dmul
 1507              	.LVL140:
  36:src/unit/motor_drive.cpp ****             SpeedControl();
 1508              		.loc 1 36 31 view .LVU322
 1509 008a C4E90A01 		strd	r0, [r4, #40]
  37:src/unit/motor_drive.cpp ****       }
 1510              		.loc 1 37 13 is_stmt 1 view .LVU323
  37:src/unit/motor_drive.cpp ****       }
 1511              		.loc 1 37 25 is_stmt 0 view .LVU324
 1512 008e 2046     		mov	r0, r4
 1513 0090 FFF7FEFF 		bl	_ZN10MotorDrive12SpeedControlEv
 1514              	.LVL141:
 1515              	.L105:
  39:src/unit/motor_drive.cpp **** 
 1516              		.loc 1 39 1 view .LVU325
 1517 0094 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1518              	.LVL142:
 1519              	.L110:
 1520              	.LCFI12:
 1521              		.cfi_def_cfa_offset 0
 1522              		.cfi_restore 4
 1523              		.cfi_restore 5
 1524              		.cfi_restore 6
 1525              		.cfi_restore 7
 1526              		.cfi_restore 8
 1527              		.cfi_restore 14
  39:src/unit/motor_drive.cpp **** 
 1528              		.loc 1 39 1 view .LVU326
 1529 0098 7047     		bx	lr
 1530              	.L114:
 1531 009a 00BFAFF3 		.align	3
 1531      0080
 1532              	.L113:
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 34


 1533 00a0 182D4454 		.word	1413754136
 1534 00a4 FB211940 		.word	1075388923
 1535              		.cfi_endproc
 1536              	.LFE255:
 1537              		.fnend
 1539              		.section	.text._ZN10MotorDrive5DriveEss,"ax",%progbits
 1540              		.align	1
 1541              		.global	_ZN10MotorDrive5DriveEss
 1542              		.syntax unified
 1543              		.thumb
 1544              		.thumb_func
 1546              	_ZN10MotorDrive5DriveEss:
 1547              		.fnstart
 1548              	.LVL143:
 1549              	.LFB258:
 127:src/unit/motor_drive.cpp **** 
 128:src/unit/motor_drive.cpp **** void MotorDrive::Drive(int16_t left, int16_t right) {
 1550              		.loc 1 128 53 is_stmt 1 view -0
 1551              		.cfi_startproc
 1552              		@ args = 0, pretend = 0, frame = 0
 1553              		@ frame_needed = 0, uses_anonymous_args = 0
 1554              		@ link register save eliminated.
 129:src/unit/motor_drive.cpp ****       speed_left_ = left;
 1555              		.loc 1 129 7 view .LVU328
 1556              		.loc 1 129 19 is_stmt 0 view .LVU329
 1557 0000 A0F8B416 		strh	r1, [r0, #1716]	@ movhi
 130:src/unit/motor_drive.cpp ****       speed_right_ = right;
 1558              		.loc 1 130 7 is_stmt 1 view .LVU330
 1559              		.loc 1 130 20 is_stmt 0 view .LVU331
 1560 0004 A0F8B626 		strh	r2, [r0, #1718]	@ movhi
 131:src/unit/motor_drive.cpp ****       // スピードの範囲保証
 132:src/unit/motor_drive.cpp ****       if (abs(speed_left_) > MAX_POWER) speed_left_ = MAX_POWER * (abs(speed_left_) / speed_left_);
 1561              		.loc 1 132 7 is_stmt 1 view .LVU332
 1562              		.loc 1 132 11 is_stmt 0 view .LVU333
 1563 0008 81EAE173 		eor	r3, r1, r1, asr #31
 1564 000c A3EBE173 		sub	r3, r3, r1, asr #31
 1565 0010 9BB2     		uxth	r3, r3
 1566              		.loc 1 132 7 view .LVU334
 1567 0012 B3F5167F 		cmp	r3, #600
 1568 0016 08D9     		bls	.L116
 1569              		.loc 1 132 41 is_stmt 1 discriminator 1 view .LVU335
 1570              		.loc 1 132 85 is_stmt 0 discriminator 1 view .LVU336
 1571 0018 93FBF1F3 		sdiv	r3, r3, r1
 1572              		.loc 1 132 53 discriminator 1 view .LVU337
 1573 001c 03EB8303 		add	r3, r3, r3, lsl #2
 1574 0020 C3EB0313 		rsb	r3, r3, r3, lsl #4
 1575 0024 DB00     		lsls	r3, r3, #3
 1576 0026 A0F8B436 		strh	r3, [r0, #1716]	@ movhi
 1577              	.L116:
 133:src/unit/motor_drive.cpp ****       if (abs(speed_right_) > MAX_POWER) speed_right_ = MAX_POWER * (abs(speed_right_) / speed_righ
 1578              		.loc 1 133 7 is_stmt 1 view .LVU338
 1579              		.loc 1 133 11 is_stmt 0 view .LVU339
 1580 002a 82EAE273 		eor	r3, r2, r2, asr #31
 1581 002e A3EBE273 		sub	r3, r3, r2, asr #31
 1582 0032 9BB2     		uxth	r3, r3
 1583              		.loc 1 133 7 view .LVU340
 1584 0034 B3F5167F 		cmp	r3, #600
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 35


 1585 0038 08D9     		bls	.L115
 1586              		.loc 1 133 42 is_stmt 1 discriminator 1 view .LVU341
 1587              		.loc 1 133 88 is_stmt 0 discriminator 1 view .LVU342
 1588 003a 93FBF2F3 		sdiv	r3, r3, r2
 1589              		.loc 1 133 55 discriminator 1 view .LVU343
 1590 003e 03EB8303 		add	r3, r3, r3, lsl #2
 1591 0042 C3EB0313 		rsb	r3, r3, r3, lsl #4
 1592 0046 DB00     		lsls	r3, r3, #3
 1593 0048 A0F8B636 		strh	r3, [r0, #1718]	@ movhi
 1594              	.L115:
 134:src/unit/motor_drive.cpp **** }
 1595              		.loc 1 134 1 view .LVU344
 1596 004c 7047     		bx	lr
 1597              		.cfi_endproc
 1598              	.LFE258:
 1599              		.cantunwind
 1600              		.fnend
 1602              		.section	.text._ZN10MotorDrive5BrakeEv,"ax",%progbits
 1603              		.align	1
 1604              		.global	_ZN10MotorDrive5BrakeEv
 1605              		.syntax unified
 1606              		.thumb
 1607              		.thumb_func
 1609              	_ZN10MotorDrive5BrakeEv:
 1610              		.fnstart
 1611              	.LVL144:
 1612              	.LFB259:
 135:src/unit/motor_drive.cpp **** 
 136:src/unit/motor_drive.cpp **** void MotorDrive::Brake() {
 1613              		.loc 1 136 26 is_stmt 1 view -0
 1614              		.cfi_startproc
 1615              		@ args = 0, pretend = 0, frame = 0
 1616              		@ frame_needed = 0, uses_anonymous_args = 0
 1617              		.loc 1 136 26 is_stmt 0 view .LVU346
 1618 0000 10B5     		push	{r4, lr}
 1619              	.LCFI13:
 1620              		.cfi_def_cfa_offset 8
 1621              		.cfi_offset 4, -8
 1622              		.cfi_offset 14, -4
 1623 0002 0446     		mov	r4, r0
 137:src/unit/motor_drive.cpp ****       motor1a_->write(1);
 1624              		.loc 1 137 7 is_stmt 1 view .LVU347
 1625              		.loc 1 137 22 is_stmt 0 view .LVU348
 1626 0004 B7EE000A 		vmov.f32	s0, #1.0e+0
 1627 0008 806C     		ldr	r0, [r0, #72]
 1628              	.LVL145:
 1629              		.loc 1 137 22 view .LVU349
 1630 000a FFF7FEFF 		bl	_ZN12PwmSingleOut5writeEf
 1631              	.LVL146:
 138:src/unit/motor_drive.cpp ****       motor1b_->write(1);
 1632              		.loc 1 138 7 is_stmt 1 view .LVU350
 1633              		.loc 1 138 22 is_stmt 0 view .LVU351
 1634 000e B7EE000A 		vmov.f32	s0, #1.0e+0
 1635 0012 E06C     		ldr	r0, [r4, #76]
 1636 0014 FFF7FEFF 		bl	_ZN12PwmSingleOut5writeEf
 1637              	.LVL147:
 139:src/unit/motor_drive.cpp ****       motor2a_->write(1);
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 36


 1638              		.loc 1 139 7 is_stmt 1 view .LVU352
 1639              		.loc 1 139 22 is_stmt 0 view .LVU353
 1640 0018 B7EE000A 		vmov.f32	s0, #1.0e+0
 1641 001c 206D     		ldr	r0, [r4, #80]
 1642 001e FFF7FEFF 		bl	_ZN12PwmSingleOut5writeEf
 1643              	.LVL148:
 140:src/unit/motor_drive.cpp ****       motor2b_->write(1);
 1644              		.loc 1 140 7 is_stmt 1 view .LVU354
 1645              		.loc 1 140 22 is_stmt 0 view .LVU355
 1646 0022 B7EE000A 		vmov.f32	s0, #1.0e+0
 1647 0026 606D     		ldr	r0, [r4, #84]
 1648 0028 FFF7FEFF 		bl	_ZN12PwmSingleOut5writeEf
 1649              	.LVL149:
 141:src/unit/motor_drive.cpp **** }...
 1650              		.loc 1 141 1 view .LVU356
 1651 002c 10BD     		pop	{r4, pc}
 1652              		.loc 1 141 1 view .LVU357
 1653              		.cfi_endproc
 1654              	.LFE259:
 1655              		.cantunwind
 1656              		.fnend
 1658              		.global	debug_power_right
 1659              		.section	.bss.debug_power_right,"aw",%nobits
 1660              		.align	3
 1663              	debug_power_right:
 1664 0000 00000000 		.space	8
 1664      00000000 
 1665              		.global	debug_power_left
 1666              		.section	.bss.debug_power_left,"aw",%nobits
 1667              		.align	3
 1670              	debug_power_left:
 1671 0000 00000000 		.space	8
 1671      00000000 
 1672              		.global	debug_speed_right
 1673              		.section	.bss.debug_speed_right,"aw",%nobits
 1674              		.align	3
 1677              	debug_speed_right:
 1678 0000 00000000 		.space	8
 1678      00000000 
 1679              		.global	debug_speed_left
 1680              		.section	.bss.debug_speed_left,"aw",%nobits
 1681              		.align	3
 1684              	debug_speed_left:
 1685 0000 00000000 		.space	8
 1685      00000000 
 1686              		.global	debug_rad_right
 1687              		.section	.bss.debug_rad_right,"aw",%nobits
 1688              		.align	3
 1691              	debug_rad_right:
 1692 0000 00000000 		.space	8
 1692      00000000 
 1693              		.global	debug_rad_left
 1694              		.section	.bss.debug_rad_left,"aw",%nobits
 1695              		.align	3
 1698              	debug_rad_left:
 1699 0000 00000000 		.space	8
 1699      00000000 
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 37


 1700              		.text
 1701              	.Letext0:
 1702              		.file 4 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/machine/_default_ty
 1703              		.file 5 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/sys/_stdint.h"
 1704              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f446xx.h"
 1705              		.file 7 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 1706              		.file 8 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/lib/gcc/arm-none-eabi/12.3.1/include/stdd
 1707              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 1708              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 1709              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim.h"
 1710              		.file 12 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 1711              		.file 13 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/c++/12.3.1/cstdio"
 1712              		.file 14 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/c++/12.3.1/arm-non
 1713              		.file 15 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/sys/_types.h"
 1714              		.file 16 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/sys/reent.h"
 1715              		.file 17 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/sys/lock.h"
 1716              		.file 18 "/opt/ST/STM32CubeCLT_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/stdio.h"
 1717              		.file 19 "Lib/Timer/Timer.hpp"
 1718              		.file 20 "src/unit/motor_drive.hpp"
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 38


DEFINED SYMBOLS
                            *ABS*:00000000 motor_drive.cpp
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:21     .text._ZN12PwmSingleOut4initEv:00000000 $t
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:27     .text._ZN12PwmSingleOut4initEv:00000000 _ZN12PwmSingleOut4initEv
.ARM.exidx.text._ZN12PwmSingleOut4initEv:00000000 $d
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:71     .text._ZN12PwmSingleOut5writeEf:00000000 $t
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:77     .text._ZN12PwmSingleOut5writeEf:00000000 _ZN12PwmSingleOut5writeEf
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:194    .text._ZN12PwmSingleOut5writeEf:00000094 $d
.ARM.exidx.text._ZN12PwmSingleOut5writeEf:00000000 $d
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:201    .text._ZN10MotorDriveC2EP12PwmSingleOutS1_S1_S1_PtS2_:00000000 $t
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:207    .text._ZN10MotorDriveC2EP12PwmSingleOutS1_S1_S1_PtS2_:00000000 _ZN10MotorDriveC2EP12PwmSingleOutS1_S1_S1_PtS2_
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:301    .text._ZN10MotorDriveC2EP12PwmSingleOutS1_S1_S1_PtS2_:00000054 $d
.ARM.exidx.text._ZN10MotorDriveC2EP12PwmSingleOutS1_S1_S1_PtS2_:00000000 $d
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:207    .text._ZN10MotorDriveC2EP12PwmSingleOutS1_S1_S1_PtS2_:00000000 _ZN10MotorDriveC1EP12PwmSingleOutS1_S1_S1_PtS2_
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:309    .text._ZN10MotorDrive4InitEv:00000000 $t
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:315    .text._ZN10MotorDrive4InitEv:00000000 _ZN10MotorDrive4InitEv
.ARM.exidx.text._ZN10MotorDrive4InitEv:00000000 $d
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:364    .text._ZN10MotorDrive3RunEdd:00000000 $t
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:370    .text._ZN10MotorDrive3RunEdd:00000000 _ZN10MotorDrive3RunEdd
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:656    .text._ZN10MotorDrive3RunEdd:000001d0 $d
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:1670   .bss.debug_power_left:00000000 debug_power_left
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:1663   .bss.debug_power_right:00000000 debug_power_right
.ARM.exidx.text._ZN10MotorDrive3RunEdd:00000000 $d
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:674    .text._ZN10MotorDrive12SpeedControlEv:00000000 $t
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:680    .text._ZN10MotorDrive12SpeedControlEv:00000000 _ZN10MotorDrive12SpeedControlEv
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:1136   .text._ZN10MotorDrive12SpeedControlEv:00000340 $d
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:1148   .text._ZN10MotorDrive12SpeedControlEv:00000360 $t
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:1384   .text._ZN10MotorDrive12SpeedControlEv:000004f0 $d
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:1684   .bss.debug_speed_left:00000000 debug_speed_left
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:1677   .bss.debug_speed_right:00000000 debug_speed_right
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:1698   .bss.debug_rad_left:00000000 debug_rad_left
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:1691   .bss.debug_rad_right:00000000 debug_rad_right
.ARM.extab.text._ZN10MotorDrive12SpeedControlEv:00000000 $d
.ARM.exidx.text._ZN10MotorDrive12SpeedControlEv:00000000 $d
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:1395   .text._ZN10MotorDrive14EncoderComputeEv:00000000 $t
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:1401   .text._ZN10MotorDrive14EncoderComputeEv:00000000 _ZN10MotorDrive14EncoderComputeEv
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:1533   .text._ZN10MotorDrive14EncoderComputeEv:000000a0 $d
.ARM.exidx.text._ZN10MotorDrive14EncoderComputeEv:00000000 $d
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:1540   .text._ZN10MotorDrive5DriveEss:00000000 $t
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:1546   .text._ZN10MotorDrive5DriveEss:00000000 _ZN10MotorDrive5DriveEss
.ARM.exidx.text._ZN10MotorDrive5DriveEss:00000000 $d
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:1603   .text._ZN10MotorDrive5BrakeEv:00000000 $t
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:1609   .text._ZN10MotorDrive5BrakeEv:00000000 _ZN10MotorDrive5BrakeEv
.ARM.exidx.text._ZN10MotorDrive5BrakeEv:00000000 $d
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:1660   .bss.debug_power_right:00000000 $d
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:1667   .bss.debug_power_left:00000000 $d
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:1674   .bss.debug_speed_right:00000000 $d
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:1681   .bss.debug_speed_left:00000000 $d
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:1688   .bss.debug_rad_right:00000000 $d
/var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s:1695   .bss.debug_rad_left:00000000 $d

UNDEFINED SYMBOLS
HAL_TIM_PWM_Start
__aeabi_unwind_cpp_pr0
__aeabi_f2d
__aeabi_ui2d
__aeabi_dmul
ARM GAS  /var/folders/5c/srt4fy4j1pd641bjfx75k5000000gn/T//ccHkm1Ow.s 			page 39


__aeabi_d2iz
_ZN5TimerC1Ev
_ZN9MovingAve9SetLengthEh
__aeabi_dcmpgt
__aeabi_ddiv
__aeabi_d2f
__aeabi_dcmpeq
__aeabi_dsub
__aeabi_i2d
__aeabi_dadd
__aeabi_dcmplt
_ZN5Timer7read_usEv
_ZN5Timer5resetEv
_ZN9MovingAve7ComputeEPd
__aeabi_unwind_cpp_pr1
